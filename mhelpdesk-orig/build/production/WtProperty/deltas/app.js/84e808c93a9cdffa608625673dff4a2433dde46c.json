["function _91941414d5c4691c664d0792f343942f53ec4402",50,2314,"client){mhelpdesk.view.client",2341,118,"if(!mhelpdesk.view.ticket){mhelpdesk.view.ticket={}}if(!mhelpdesk.view.visitor){mhelpdesk.view.visitor",2455,471061,"Json",469540,44,"ajax\",reader:\"json\",writer:\"json\"}}},0,0,0,0,[\"store.json\"],0,[Ext.data,\"JsonStore",487808,32,473515,216696,"Activity\",Ext.Menu,{txtRegEvent:\"Daftar Aktiviti\",",700105,36,690361,74,"cls:\"r-menu-activity\"",690434,231,"this.setItems([{itemId:\"mnuCreateEvent\",iconCls:\"fa-calendar\",menu:\"mnuCreateEvent\",text:this.txtRegEvent,ui:\"action\",hidden:true},{itemId:\"mnuHome\",iconCls:\"fa-home\",menu:\"mnuHome",691134,43,"nuReturn\",iconCls:\"fa-undo\",menu:\"mnuReturn",691234,35,691481,65,"activity",837312,37,"sheet\",\"menu\",\"menuactivity",401216,34,691644,36,"activity:true},[\"widget.menuactivity\"],0,[mhelpdesk.component,\"MenuActiv",825150,37,690197,164,"txtIntercom:\"Intercom\",txtBilling:\"Check Bills\",txtExternal:\"External Call",690359,76,"cls:\"r-menu-home\"",690434,322,"Guard Setup",690763,32,"GuardSetup\",name:\"mnuGuardSetup\",ui:\"action\",hidden:false,menu:\"mnuGuardSetup",690853,315,"text:this.txtIntercom,iconCls:\"fa-tty\",itemId:\"mnuIntercom\",name:\"mnuIntercom\",hidden:true,ui:\"action\",menu:\"mnuIntercom\"},{text:this.txtExternal,iconCls:\"fa-phone\",itemId:\"mnuExternalCall\",name:\"mnuExternalCall\",hidden:true,ui:\"action\",menu:\"mnuExternalCall\"},{text:this.txtBilling,iconCls:\"fa-credit-card\",itemId:\"mnuBilling\",name:\"mnuBilling\",hidden:true,ui:\"action\",menu:\"mnuBilling\"",691165,612,"component.MenuNotification\",Ext.Menu,{txtRegNotification:\"Daftar Makluman\",",700105,39,"GroupSubscription:\"Langganan Kumpul",690357,78,"cls:\"r-menu-notification\"",690434,231,"this.setItems([{itemId:\"mnuCreateNotification\",iconCls:\"fa-flag-o\",menu:\"mnuCreateNotification\",text:this.txtRegNotification,ui:\"action\",hidden:true},{itemId:\"mnuGroupSubscription\",iconCls:\"fa-sign-in\",menu:\"mnuGroupSubscription\",text:this.txtGroupSubscription,ui:\"action\",hidden:false},{itemId:\"mnuHome\",iconCls:\"fa-home\",menu:\"mnuHome",691134,46,"Return\",name:\"menuReturn\",iconCls:\"fa-undo\",menu:\"menuReturn",691234,35,691481,65,859180,41,"panel\",\"sheet\",\"menu\",\"menu",859239,46,691644,36,"notification:true},[\"widget.menunotificati",690124,33,824367,46,"view.SosPage\",Ext.Panel,{config:{itemId:\"sospage\",cls:\"p-sos-page\",",881180,47,"},txtFilter:\"Find",865070,35,847790,32,"b=mhelpdesk.view.Locale;var e",881155,39,877727,50,"electfield\",itemId:\"selection\",usePicker:true,cls:\"r-tool-item\",width:100,options:[{text:\"Status\",value:\"status\"},{text:\"Name\",value:\"name\"},{text:\"Unit No\",value:\"serial_no\"},{text:\"Date\",value:\"created\"}],listeners:{change:function(h,i,f,g){if(i==\"status\"){d.down(\"#filterStatus\").setHidden(false);d.down(\"#filterText\").setHidden(true)}else{d.down(\"#filterStatus\").setHidden(true);d.down(\"#filterText\").setHidden(false)}}}},{xtype:\"selectfield\",cls:\"r-tool-field\",itemId:\"filterStatus\",usePicker:true,flex:1,hidden:false,options:[{text:\"OPEN\",value:\"open\"},{text:\"CLOSED\",value:\"closed\"}]},{xtype:\"textfield\",cls:\"r-tool-field\",flex:1,hidden:true,itemId:\"filterText\"",861312,59,"pack:\"start\",align",887904,32,"e,{xtype:\"button\",width:100,itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",838219,40,"text:d.txtFilter",889596,45,"filter\",d,f,h,g)}}},{xtype:\"button\",width:100,itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",886519,37,"text:\"CLOSE\"",889596,45,"close\",d",886744,228,"d.fireEvent(\"info\",d,f,h,g)}}}]});this.setItems([a,{xtype:\"sosLis",835342,112,"SOS Call ",890412,35,629088,32,"apply(this,arguments)}},0,[\"sospage",837312,37,"sos",835568,38,"panel:true,sospage:true},[\"widget.sospage\"],0,[mhelpdesk.view,\"Sos",851071,43,691782,335,"s",692117,67,"s",692184,282,",ambulance:null,police",692461,279,"s",692740,2465,",Date:\"Tarikh",695204,3511,"Jenis Skrin",701280,44,867773,280,699055,5586,",Date:\"Date",704640,3276,"Screen Mod",710400,40,707969,5813,"_session:null,_socket:null,config:{itemId:\"controller\",",713790,60,"guardPage:\"guardPage\",homepage:\"homepage\",sospage:\"sospage\",sosACtion:\"sosACtion\",visitorPage:\"visitorPage\",registerVisitor:\"registerVisitor",713868,96,"occupantList:\"occupant",713958,124,"sosList:\"sosList\",ticketList:\"ticketList\",notification:\"notification\",event:\"even",714103,2038,"a,d,f){var b=a.getItemId()+\".tap\";var h",716153,82,"j=a.getItemId();app.dh(\"Menu Click\",j,b);var i=h",716296,37,"j){app.dh(\"Menu\",\"Click\",j,b);switch(j){case\"mnuHome\":h.gotoHome();break;case\"menuHome99\":h.popPage();break;case\"mnuLogout\":h.doLogout();break;case\"mnuSOS\":h.doSOS();break;case\"mnuExternalCall\":if(h._deviceOS==\"Android\"||h._deviceOS==\"iOS\"){h.call(true)}else{h",743434,37,"Only applicable on mobile device!\",Ext.MessageBox.ERROR,true)}break;case\"mnuReturn\":",774719,114,"h",718327,66,"break;default:h",716478,34,"j);if(h",716519,41,"h",716561,34,"h",716596,39,"h.pushPage(h",716647,44,"c=h.getMainpage();c",716710,39,"h.gotoHome();break;case\"intercom\":h.pushPage(h._currentPage);break}}break}}}catch(g",716781,36,"g",716818,105,"app.dh(\"Tab Change\",h.getItemId(),c.getItemId(),g);if(h==0){}else{switch(h.getItemId()){case\"tabHome",717014,296,717016,115,717310,48,717016,115,717358,666,";case\"tabStatus",717014,131,"Notification\":if(!d._MenuNotification){d._MenuNotification",717044,37,"Notification\")}d._menu=d._MenuNotification;d.setMenuNotification(d._menu);break;case\"tabEvent\":if(!d._MenuActivity){d._MenuActivity",717044,37,"Activity\")}d._menu=d._MenuActivity;d.setMenuActivity(d._menu);break;case\"tabSetting",717014,122,"}}}},sospage:{close:function(c,a,d,b){this.popPage()},filter:function(g,i,d,f){var h=this;var c=g.getItemId()+\".filter\";app.dh(\"Start\",\"...\",c);var l=g.down(\"#selection\").getValue();if(l==\"status\"){var b=g.down(\"#filterStatus\").getValue();h.getTicketBySOS(true,\"ticket.status='\"+b+\"'\",function(m,e,n){})}else{if(l==\"name\"){var a=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"ticket.name LIKE '\"+a+\"%'\",function(m,e,n){})}else{if(l==\"serial_no\"){var k=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"asset.seral_no='\"+k+\"'\",function(m,e,n){})}else{if(l==\"created\"){var j=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"ticket.created LIKE '\"+j+\"%'\",function(m,e,n){})}else{}}}}}},sosACtion:{close:function(c,a,d,b){this.popPage()}},visitorPage:{tapBack:function(c,a,d,b){this.popPage()},tapRegister:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapRegister\";app.dh(\"Start\",\"...\",h);var a=Ext.create(\"mhelpdesk.view.visitor.Register\");d.pushPage(a)}},registerVisitor:{close:function(c,a,d,b){this.popPage()},camera:function(f,a,g,c){var d=this;var i=f.getItemId()+\".camera\";app.dh(\"Start\",\"...\",i);var b",837769,47,"\");d.getPhoto(a,b,h)}},guardPage:{activate:function(e,d,a,b){var c=this;var f=d.getItemId()+\".show\";app.dh(\"Start\",\"...\",f);c.getTicketBySOS(false,\"ticket.status='open'\",function(h,g,j){console.error(h.length);if(h.length>0){var i=d.down(\"#sosMain\");i.setBadgeText(h.length)}})},tapCallOwner:function(d,a,f,b){var c=this;var g=d.getItemId()+\".tapCallOwner\";app.dh(\"Start\",\"...\",g);var d=Ext.create(\"mhelpdesk.view.OccupantPage\");c.load_all_client(false,function(h,e,i){console.error(h);c.pushPage(d)})},tapAmbulance:function(g,i,c,d){var h=this;var a=g.getItemId()+\".tapAmbulance\";app.dh(\"Start\",system.getAmbulance(),a);if(h._deviceOS==\"Android\"||h._deviceOS==\"iOS\"){var j=true;window.plugins.CallNumber.callNumber(f,b,system.getAmbulance(),j)}else{h",743434,37,"Only applicable on mobile device!\",Ext.MessageBox.ERROR,true)}function f(e){console.log(\"Success:\"+e)}function b(e){console.log(\"Error:\"+e)}},tapPolice:function(g,i,c,d){var h=this;var a=g.getItemId()+\".tapPolice\";app.dh(\"Start\",system.getPolice(),a);if(h._deviceOS==\"Android\"||h._deviceOS==\"iOS\"){var j=true;window.plugins.CallNumber.callNumber(f,b,system.getPolice(),j)}else{h",743434,37,"Only applicable on mobile device!\",Ext.MessageBox.ERROR,true)}function f(e){console.log(\"Success:\"+e)}function b(e){console.log(\"Error:\"+e)}},tapSos:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapSos\";app.dh(\"Start\",\"..\",h);var a=Ext.getStore(\"localSosTicketStore\");d.getTicketBySOS(true,\"ticket.status='open'\",function(i,e,k){console.error(i.length);if(i.length>0){var j=Ext.create(\"mhelpdesk.view.SosPage\");d.pushPage(j)}})},tapVisitor:function(m,o,j,k){var n=this;var f=m.getItemId()+\".tapVisitor\";app.dh(\"Start\",\"..\",f);var g=Ext.create(\"mhelpdesk.view.VisitorPage\");var m=g;var a=m.down(\"#mainPanel\");var l=[];l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-pencil-square-o fa-2x\",text:\"NEW REGISTER\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapRegister\",m,i,r,q)}}});l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-users fa-2x\",badgeText:\"0\",text:\"VISITOR LIST\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-credit-card fa-2x\",text:\"VISITOR PASS\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button",886077,32,"uck fa-2x\",badgeText:\"0\",text:\"DELIVERY VEHICLE\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button",886519,35," fa-2x\",text:\"BACK TO MAIN\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapBack\",m,i,r,q)}}});var h=1;var b;var c=[];for(var d=0;d<l.length;d++){if(h==1){b",881155,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});c.push(b)}b.add(l[d]);h++;if(h>3){h=1}}for(var d=0;d<c.length;d++){a.add(c[d])}n.pushPage(g)},tapLogin:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapVisitor\";app.dh(\"Start\",\"..\",h);if(system.getIsLogin()){d.doLogout()}else{var a=",760808,35,"d.pushPage(a)",718025,1543,"padding:5,",719568,186,"cls:\"r-main-content\",width:\"100%",719827,273,"d",720101,19796,"d",739937,599,"occupantList:{onRefresh:function(c,b){var a=this;var d=c.getItemId()+\".onItemDisclosure\";app.dh(\"Start\",\"...\",d);a.load_all_client(true)},itemtap:function(m,f,g,d,h,i){var l=this;var b=\"occupationList-itemtap\";app.dh(\"Start\",\"...\",b);try{var a=d.get(\"client_phone\");if(!a){d.get(\"client_mobile\")}if(a){if(l._deviceOS==\"Android\"||l._deviceOS==\"iOS\"){var n=true;window.plugins.CallNumber.callNumber(k,c,system.getAmbulance(),n)}else{l",743434,37,"Only applicable on mobile device!\"",752365,34,"l",743434,37,"No contact number availaible!\",Ext.MessageBox.ERROR,true)}function k(e){console.log(\"Success:\"+e)}function c(e){console.log(\"Error:\"+e)}}catch(j){l.errHandler(j,b)}},onItemDisclosure:function(c,a){var b=this;var d=c.getItemId()+\".onItemDisclosure\"}},sosList:{itemtap:function(k,c,d,b,f,g){var j=this;var a=k.getItemId()+\".itemtap\";app.dh(\"Start\",\"...\",a",742567,39,"ticket.SosAction\");j.getTicketById(b.data.ticket_id,true,function(l,e,m){console.error(l.length);j.pushPage(i);if(l.length>0){i.setRecord(l[0])}})}catch(h){j.errHandler(h,a)}",740533,8487,"notification:{",748724,42,"notification",748776,35,"\"..\"",748829,83,"load_notification(",748949,71,"event:{",748724,42,"even",748775,36,"\"..\"",748829,83,"load_event(",748949,6396,"createMainButton:function(){var e=this.getItemId()+\".createMainButton\";var j=this;app.dh(\"Start\",\"...\",e);var g=Ext.create(\"doc.view.GuardPage\");var a=g.down(\"#mainPanel\");var h=[];h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-motorcycle fa-2x\",text:\"Dispatch Service\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapDispatch\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-pencil-square-o fa-2x\",text:\"Subscribe to Service\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapSubscribe\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-laptop fa-2x\",text:\"Service Listing\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapListing\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-check fa-2x\",text:\"Check Order\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapCheckOrder\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-thumbs-o-up fa-2x\",text:\"Comments\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapComment\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-tasks fa-2x\",text:\"Order List\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapOrder\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-gear fa-2x\",text:\"Setting\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapSetting\",g,i,l,k)}}});var f=1;var b;var c=[];for(var d=0;d<h.length;d++){if(f==1){b",881155,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});c.push(b)}b.add(h[d]);f++;if(f>3){f=1}}for(var d=0;d<c.length;d++){a.add(c[d])}return g",755343,1922,"ISTRATOR\",n,r);o",743434,37,757310,2434,";d._countNav=d._countNav+1;if(d._backItem){if(d._countNav>0){app.dh(\"push\",\"enable backItem\",f);d._backItem.setDisabled(false)}}",759744,127,"if(b){a.pop(b)}else{a.pop()}",760093,42,"0){console.error(d._countNav);if(d._backItem){app.dh(\"pop\",\"disable backItem\",e);d._backItem.setDisabled(true)}}",759966,33,760000,610,"GuardSetup\":break;",760602,253,"nuIntercom",760800,35,"Intercom",760840,2103,"Activity:function(b){var c=\"setMenuActivity\";var a=this;switch(a._sysRole){case\"ADMIN\":b.down(\"#mnuCreateEvent\").setHidden(false);break;default:break}},setMenuNotification:function(b){var c=\"setMenuNotification\";var a=this;app.dh(\"Start\",\"..\",c);switch(a._sysRole){case\"ADMIN\":b.down(\"#mnuCreateNotification\").setHidden(false);break;default:break",762933,58,"app.dh(\"Start\",\"..\",d);try{",763024,45,"if(system.getIsLogin()){c.down(\"#mnuIntercom\").setHidden(false);c.down(\"#mnuExternalCall\").setHidden(false);c.down(\"#mnuBilling\").setHidden(false)}else{c.down(\"#mnuIntercom\").setHidden(true);c.down(\"#mnuExternalCall\").setHidden(true);c.down(\"#mnuBilling\").setHidden(true)",763068,3716,";e._socket=io.connect(\"110.74.184.36\");e._socket.on(\"messageReceived\",onVideoMessageReceived);e._socket.on(\"onMessage\",function(h){e._session.receiveMessage(h)})}catch(d){}}}catch(d){}},call:function(a){var e=this.getItemId()+\".call\";var d=this;var b={isInitiator:a,turn:{host:\"110.74.184.36\",username:\"201\",password:\"spa201fsw\"},streams:{audio:true,video:true}};try{d._session=new cordova.plugins.phonertc.Session(b);d._session.on(\"answer\",function(){app.dh(\"answer\",\"Other client answered!\",e)});d._session.on(\"disconnect\",function(){app.dh(\"disconnect\",\"Other client disconnected!!\",e)});d._session.on(\"sendMessage\",function(f){app.dh(\"sendMessage\",f,e);d._socket.emit(\"sendMessage\",{type:\"phonertc_handshake\",data:JSON.stringify(f)})});d._session.call()}catch(c){app.eh(c,e)}},onVideoMessageReceived:function(b){var a=this;switch(b.type){case\"call\":break;case\"answer\":a.call(true);break;case\"phonertc_handshake\":a._session.receiveMessage(JSON.parse(b.data));break}},subscribeOneSignal:function(b,e,a){var c=this;var d=this.getItemId()+\".subscribeOneSignal\";c.OneSignal=OneSignal||[];c.OneSignal",772457,281,"wtProperty",772753,61,"wtProperty",772829,231,"wtProperty",772938,32,773107,75,"wtProperty",773197,262,"OneSignal.push(function(){c.OneSignal",773476,34,"f){if(f){c.OneSignal.getUserId(function(g){c.dh(\"Subscribe\",g,d);c.OneSignal.push([\"sendTags\",{user:b,role:e",773583,42,";c",747423,46,"\"Login\",\"User \"+b+\" just login ...\")",766807,837,"+system.getCompanyName()",767644,951,"+system.getCompanyName()",768595,3409,"all_client(fals",771994,223,"subscribeOneSignal(system.getUser(),\"CLIENT\",system.getCompanyName()",772233,2433,"app.dh(\"Menu Item\",\"Click\",e);var c",718206,120,"c",718327,66,774900,168,";if(system.getScreenMode()==2){b=c.getGuardPage()}else{b=c.getMainpage()}",775085,5797,"f,a){var e=this;var c=this.getItemId()+\".filterTicketById\";try{var g=null;var i=false;var b=new RegExp(a,\"i\");console.log(b);var h",782208,36,"clearFilter();h.filterBy(function(j){i=b.test(j.get(f));if(i){g=j}});h.clearFilter();return g}catch(d){e.errHandler(d,c",781129,1330,"app.dh(\"Start\",\"...\",d",782493,356,"BySOS:function(g,b",781970,33,"SOS\";app.dh(\"Start\",b,d);try{var a=\"ticket.topic_id=2\";if(b){a+=\" AND \"+b}app.dh(\"Filter\",a,d)",784831,32,782558,83,"Sos",782189,39,"SosTicketStore\");h._localSos",782702,2093,"company_id=\"+system.getCompanyId()+\" AND (sdatetime < DATE(NOW()) AND edatetime > DATE(NOW())) AND mesg_type='PUBLIC' OR mesg_type='CLIENT'",789520,33,"notification\",filter:a",785354,58,784936,344,"(sdatetime < DATE(NOW()) AND edatetime > DATE(NOW()))",789520,33,"event\",filter:a",785354,2633,"load_all_client",785638,39,"lient",787103,57,"client.client_isactive=1 AND client.company_id=\"+system.getCompanyId()",785744,33,"lients\",filter:a,sort:\"client.client_firstname",787245,45,"AllClient",785852,33,"AllClientStore\");h._localAllClient",787369,157,787987,5133,"j=i.screen_mode;console.error(\"ScreenMode:\"+j);",793142,2282,"2.7",795427,157,"system.setUrlPicturePath(\"https://www.wtpropertycheck.com/\"",795582,384,"h){if(h){d.initData();var g=utils.findRecord(d._localConfigStore,\"company_id\",system.getCompanyId());if(g){system.setPolice(g.get(\"default_police\"));system.setAmbulance(g.get(\"default_ambulance\"))}",795988,110,"i=system.getTheme();var j=d.currentCSS(i);d.changeCSS(\"resources/css/\"+i,j",796172,122,"isLogin:\",system.getIsLogin",796266,1209,"l,k,m){d.setupData(function(o,n,q",797508,78,"findRecord:function(b,c,d){var a=b.findRecord(c,d);if(a){return a}else{return null",797583,64,"d",797648,34,"app.eh(c,d)",797803,90,"b,g,f,e){var d=this;var h=\"debugHandler\";try{app.dh(g,f,c,b)}catch(a",798193,1030,"load_event(true);b.load_notification(true);b.load_all_client",799214,9060,"lientUnit",814719,74,807822,326,",\"asset_name\",\"asset_address\",\"asset_unit",817086,34,"clientUni",817983,41,"ClientUnit",811824,40,"Config",814719,73,808352,978,"default_ambulance\",type:\"string\"},{name:\"default_police\",type:\"string",809320,4469,"\"img_url",813787,921,"Intercom",814719,74,"id\",\"number\",\"ip\",\"name",817086,34,"clien",817983,41,"Intercom",811824,40,814708,1089,"img_url",815794,5490,"AllCli",827599,38,"localAllCli",822397,33,"ClientUni",826062,64,"client_firstname",824576,40,"Al",821483,53,"li",827599,38,821325,1189,"\"Date\",c.get(\"locale\"))+\": \"+b.getText(",822569,35,",c.get(\"locale",822602,165,828960,34,822826,474,"Intercom\",Ext.data.JsonStore,{config:{storeId:\"localIntercomStore\",model:\"mhelpdesk.model.Intercom\",data:[{id:1,number:\"6015001\",ip:\"\",name:\"Salman Alai\"},{id:2,number:\"6015002\",ip:\"\",name:\"Abus Warni\"},{id:3,number:\"6015003\",ip:\"\",name:\"Ahmad Salimin\"},{id:4,number:\"6015004\",ip:\"\",name:\"Kassim Abdul\"},{id:5,number:\"6015005\",ip:\"\",name:\"Malibun\"}]",826384,38,"Intercom",811824,34,823289,703,"'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Tarikh Makluman: '",824175,47,"case\"en\":return'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Notification Date: '",824175,47,"case\"ch\":return'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Tarikh Makluman: '",824175,61,"'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Tarikh Makluman: '",824255,1182,"osTicke",830208,36,"localSos",826021,73,"return locale.getText(\"Status\")+\":\"+locale.getText(a.get(\"status\"))",826094,81,"Sos",826175,51,825436,998,829808,39,"AllCli",827599,44,"AllCli",822397,33,"ClientUnit",828048,88,"cli",827773,115,"All",826797,82,"li",827599,44,"Cli",822397,33,"Cli",827680,91,827055,119,821485,45,"RemoteCommon",828336,41,"Comm",828744,32,"Config",828048,88,827055,78,",listeners:{exception:function(c,b,a){app.eh(a.getError(),\"store.RemoteCommon\")}",828959,41,"Common",828254,75,821535,41,826919,3663,"SosTicke",830208,42,"Sos",830629,248,"Sos",830877,82,"icke",830208,42,830629,665,"all",879096,41,"callList\",store:\"localIntercom",831370,283,836060,261,"number}</span",836342,37,"name",836385,381,"call",853869,51,"call",882816,62,"callList:true},[\"widget.callList\"],0,[mhelpdesk.view,\"Call",832928,43,831293,1755,835852,196,879520,135,857307,63,"class=\"my-event\"><div class=\"hdr-event",833243,41,"title}</div><img src=\"{[this.getImg(values.img_url)]}\" class=\"img-inline-background\"></img",833390,461,"Img:function(a){var b=system.getUrlPicturePath()+\"attachments/EVENTS\";if(a==\"Invalid File\"){return\"attachments/default.jpg\"}else{return b+a}}",858029,252,"Status\";break;case\"my\":b=\"Status\";break;case\"ch\":b=\"",834160,1104,"cls:\"p-event-",835258,4679,"GuardPage\",Ext.Panel,{txtLogout:\"Exit\",txtMenu:\"Menu\",txtBack:\"Back\",txtMotto:\"doc Mobile\",txtCopyRight:\"\ufffff\ufffff 2016\",txtCompany:\"Domain Oracle Sdn Bhd\",txtSupportPhone:\"+60129498134\",txtSupportEmail:\"rudzuan@gmail.com\",txtTitle:\"<b>Guard Page</b>: Use below button to execute related operation. These operations are restricted to Guard operations only. \",config:{itemId:\"guardPage\",layout:\"fit\",cls:\"p-mainpage\",isLogin:false}",856336,33,".getItemId()+\".initialize\";var a=this;app.debugHandler(\"Start\",\"...\",e);var d",881155,51,"center\",align:\"center\"},cls:\"r-main-title\",html:a.txtTitle",874759,33,328921,33,",align:\"center\"},cls:\"r-main-subtitle\",html:\"Click on the items above to execute the related operation...\"});",860480,38,"mainPanel\",cls:\"r-main-panel\"",328920,34,",align:\"stretch\"}});this.setItems([{xtype:\"panel\",cls:\"r-container\"",328920,34,",align:\"center\"},items:[d,b,c]}])",629088,32,"apply(this,arguments)}},0,[\"guardPage",837312,37,"guardP",842047,37,"panel:true,guardPage:true},[\"widget.guardPage\"],0,[mhelpdesk.view,\"Guard",851071,43,"Home",835216,37,"homepage\",cls:\"p-landingpage\",layout:\"fit\"",589436,34,840039,2146,"client.Occupan",879095,42,"occupantList\",store:\"localAl",831363,290,836060,217,"r-contact_lis",831887,43,"firstname} {client_lastname}</span><br><div style=\"color:blue;\"><span style=\"font-size: .65em; font-weight: normal;\">&nbsp;<i>{asset_name}-{asset_unit}</i>",783641,36,"65em; font-weight: normal;\">&nbsp;<i>{asset_address}</i></span></div",836408,358,"occupant",853869,51,"occupa",832800,64,"occupantList:true},[\"widget.occupantList\"],0,[mhelpdesk.view.client,\"Occupa",832926,45,"OccupantPage",836986,41,"intercom\"},txtDesc:\"List of Occupant Contact\",txtCall:\"Call External",865070,35,887802,161,"Call\",name:\"btnCall",887982,55,"pon",838256,126,"d.txtCall",889596,45,"callExternal\",d,f,h,g)}}}]});this.setItems([{html:d",837157,80,"occupant",890412,69,"intercom",837312,37,"intercom",401216,34,"panel:true,intercom:true},[\"widget.intercom\"],0,[mhelpdesk.view,\"Occupant",851071,43,"Intercom",836986,41,"intercom\"},txtDesc:\"List of Intercom Contact\",txtCall:\"Call External",865070,35,887802,161,"Call\",name:\"btnCall",887982,55,"pon",838256,126,"d.txtCall",889596,45,"callExternal\",d,f,h,g)}}}]});this.setItems([{html:d",837157,80,"call",890412,69,"intercom",837312,37,"intercom",401216,34,"panel:true,intercom:true},[\"widget.intercom\"],0,[mhelpdesk.view,\"Intercom",836944,39,"Login",854111,34,842224,1601,"pencil-square-o",843832,1399,"t=this;var k=\"Main-initialize\";try{var l=mhelpdesk.view.Locale;var c=mhelpdesk.view.System;console.error(\"SCREENMODE:\"+c.getScreenMode());var s;if(c.getScreenMode()==2){s=Ext.create(\"mhelpdesk.view.GuardPage\");var e=s;var g=e.down(\"#mainPanel\");var f=[];var d=c.getIsLogin();var m=\"LOGIN\";var h=\"fa-sign-in fa-2x\";if(d){m=\"LOGOUT\";h=\"fa-sign-out fa-2x\"}f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-phone fa-2x\",text:\"TO CALL OWNER\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapCallOwner\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-ambulance fa-2x\",text:\"AMBULANCE\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapAmbulance\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-taxi fa-2x\",text:\"POLICE\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapPolice\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-users fa-2x\",text:\"TO CALL MANAGEMENT\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapManagement\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-university fa-2x\",text:\"LOCAL COUNCIL\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapCouncil\",e,i,v,u)}}});f.push({xtype:\"button\",itemId:\"sosMain\",iconAlign:\"top\",iconCls:\"fa-bell-o fa-2x\",text:\"S-O-S LIST\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapSos\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-camera fa-2x\",text:\"VISITOR CHECK\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapVisitor\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:h,text:m,listeners:{tap:function(i,v,u){e.fireEvent(\"tapLogin\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-gear fa-2x\",text:\"SETTING\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapSetting\",e,i,v,u)}}});var b=1;var j;var q=[];for(var n=0;n<f.length;n++){if(b==1){j",881155,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});q.push(j)}j.add(f[n]);b++;if(b>3){b=1}}for(var n=0;n<q.length;n++){g.add(q[n])}}else{s=Ext.create(\"mhelpdesk.view.MainPage\")}",845322,161,"s",845501,153,"t",845655,41,"l",844960,47,"c",845008,56,"c",845802,56,848025,53,"'}]);var a=t.getNavigationBar();var o",845948,186,"a.setBackButton(o);a.add(",869744,77,846236,81,"a",846318,148,"t",846467,173,"r){console.error(r)}},onTap",801648,36,846703,3458,"cls:\"p-",850151,7079,835852,196,879520,135,857307,63,"class=\"my-notification\"><div class=\"hdr-notification\">{ftitle}</div><img src=\"{[this.getImg(values.img_url)]}\" class=\"img-inline-background\"/",833390,36,857613,96,"&nbsp;",833531,199,"&nbsp;",857916,117,"Img:function(a){var b=system.getUrlPicturePath()+\"attachments/NOTIFICATIONS\";if(a==\"Invalid File\"){return\"attachments/default.jpg\"}else{return b+a}}",858029,1473,"cls:\"p-notification-page\",layout:\"fit\"",859560,178,859740,7979,"Screen Mode",701280,44,867773,4460,"selectfield\",label:this.txtHeader",871300,47,"\"Normal Mode\",value:0},{text:\"Modern Mode\",value:1},{text:\"Guard Mode\",value:2}]",872245,65,"required:false}",866543,98,872426,16255,"Utils",691788,35,"},getErrors:function(c){var b=this;var a=\"<div style='color:red;'>\";Ext.each(c,function(e,d){a+=e.field+\" - \"+e.reason+\"<br>\"});a+=\"</div>\";return a",761391,379,"app.eh(d",761786,155,"isRecordEmpty:function(a){var b=Object.keys(a).length;if(b!=0",474298,34,"setMasked:function(a,b){if(!Ext.isEmpty(a)){a",762224,37,"b})}},offMasked:function(a){if(!Ext.isEmpty(a)){a.setMasked(false)}},showMyMasked:function(c){var d=\"utils.showMyMasked\";var b=this;try{if(app.currentView){app.",762213,48,"c});b.execDelay(function(){b.hideMyMasked()},5000)}}catch(a){app.errHandler(a,d)}},hideMyMasked:function(){var c=\"utils.hideMyMasked\";var b=this;app.dh(\"Start\",\"...\",c);try{if(app.currentView){app.",762592,39,"app.eh(a,c)}},doDelay:function(a,b){this.execDelay(b,a)},execDelay:function(c,a){if(!a){a=5000}var b",866733,35,"c,this);b.delay(a)},dialogMesg:function(c,b,a){Ext.Msg.confirm(c,b,a)}",853107,89,"GLatLng:function(b,a){return new google.maps.LatLng(b,a)},tickerShow:function(){var a=function(){me._tickerTask",866733,35,"function(){a.call(this)},me);me._tickerTask.delay(10000)};a()},findRecord:function(b,c,d){var a=b.findRecord(c,d);if(a){return a}else{return null}},getCardType:function(){var a=[{value:\"master\",iconCls:'<i class=\"fa fa-cc-mastercard fa-2x\" aria-hidden=\"true\"></i>',text:\"Master Card\"},{value:\"visa\",iconCls:'<i class=\"fa fa-cc-visa fa-2x\" aria-hidden=\"true\"></i>',text:\"Visa Card\"},{value:\"amex\",iconCls:'<i class=\"fa fa-cc-amex fa-2x\" aria-hidden=\"true\"></i>',text:\"American Express Card\"},{value:\"diners\",iconCls:'<i class=\"fa fa-cc-diners-club fa-2x\" aria-hidden=\"true\"></i>',text:\"Diners Club\"},{value:\"paypal\",iconCls:'<i class=\"fa fa-cc-paypal fa-2x\" aria-hidden=\"true\"></i>',text:\"PayPal\"},{value:\"maybank2u\",iconCls:'<i class=\"fa fa-credit-card-alt fa-2x\" aria-hidden=\"true\"></i>',text:\"Maybank2u\"}];return a},getCardIcon:function(b){var a=this.getCardType();for(var d=0;d<a.length;d++){var c=a[d];if(c.value===b){return c.iconCls}}return\"\"},execAjax:function(b,d,a,c){Ext.Ajax.request({url:utils.getDefaultServer()+b,method:\"post\",params:d,success:a,failure:c})",713083,32,"Utils",836944,39,"View",887470,40,"view",887514,125,711114,179,860303,96,"b",887759,185,889315,1370,835678,32,"VisitorPage\",Ext.Panel,{txtLogout:\"Exit\",txtMenu:\"Menu\",txtBack:\"Back\",txtMotto:\"doc Mobile\",txtCopyRight:\"\ufffff\ufffff 2016\",txtCompany:\"Domain Oracle Sdn Bhd\",txtSupportPhone:\"+60129498134\",txtSupportEmail:\"rudzuan@gmail.com\",txtTitle:\"<b>Visitor Check Page</b>: Use below button to execute related operation. These operations are restricted to visitor operations only. \",config:{itemId:\"visitorPage\",layout:\"fit\",cls:\"p-visitorpage\",isLogin:false}",856336,33,".getItemId()+\".initialize\";var a=this;app.debugHandler(\"Start\",\"...\",e);var d",881155,51,"center\",align:\"center\"},cls:\"r-main-title\",html:a.txtTitle",874759,33,328921,33,",align:\"center\"},cls:\"r-main-subtitle\",html:\"Click on the items above to execute the related operation...\"});",860480,38,"mainPanel\",cls:\"r-main-panel\"",328920,34,",align:\"stretch\"}});this.setItems([{xtype:\"panel\",cls:\"r-container\"",328920,34,",align:\"center\"},items:[d,b,c]}])",629088,32,"apply(this,arguments)}},0,[\"visitorPage",837312,37,"visitorP",842047,37,"panel:true,visitorPage:true},[\"widget.visitorPage\"],0,[mhelpdesk.view,\"Visitor",851071,43,"ticket.SosAction",854111,34,"sosACtion\",cls:\"p-sos-action\",",881180,47,"},txtFilter:\"Find",856335,35,712544,32,"b=mhelpdesk.view.Locale;",838059,54,"pack:\"start\",align",887904,48,"width:\"100%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",886519,37,"text:\"CLOSE",886939,46,"close",886741,265,874762,38,"mainContent\",cls:\"r-main",719703,42,"stretch\"},items:[{xtype:\"label\",cls:\"r-title\",html:\"SOS CALL INFORMATION\"},{xtype:\"fieldset\",title:\"Occupant Details\",instructions:\"Information on the occupant\"",866067,33,"\"Trigger Date\",readOnly:true,itemId:\"fcreated\",name:\"fcreated\"},{xtype:\"textfield\",label:\"Status\",readOnly:true,itemId:\"status\",name:\"status\"},{xtype:\"textfield\",label:\"Name\"",875232,40,"},{xtype:\"textfield\",label:\"SOS Message\",readOnly",876583,37,"}]},{xtype:\"fieldset\",title:\"Immediate Action\",instructions:\"Push the button below for immediate action",593214,35,881210,33,"button\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-phone\",text:\"CALL",886939,46,"call\",e",865500,38,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-users\",text:\"INFORM MANAGEMENT",886939,46,"management\",e",865500,38,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-upload\",text:\"VISIT UNIT",886939,46,"visit\",e,f,h,g)}}}]}]});this.setItems([a,c",855598,61,"},0,[\"sosACtio",844079,50,"sosAC",859247,38,"panel:true,formpanel:true,sosACtion:true},[\"widget.sosACtion\"],0,[mhelpdesk.view.ticket,\"SosAc",859392,43,"ticket.Sos",879096,41,"sosList\",cls:\"r-list\",store:\"localSosTicket",881831,520,879706,510,853498,119,"sos",836570,189,",0,[\"sos",853869,51,"sos",882816,62,"sosList:true},[\"widget.sosList\"],0,[mhelpdesk.view.ticket,\"Sos",832928,43,"visitor.Register",854111,34,"registerVisitor\",cls:\"p-visitor-register\",",881180,47,"},txtFilter:\"Find",856335,35,712544,32,"b=mhelpdesk.view.Locale;",838059,54,"pack:\"start\",align",887904,48,"width:\"50%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",886519,37,"text:\"SAVE",886939,46,885998,34,"width:\"50%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",886519,37,"text:\"CANCEL",886939,46,"close",886741,265,874762,38,"mainContent\",cls:\"r-main",719703,42,"stretch\"},items:[{xtype:\"label\",cls:\"r-title\",html:\"VISITOR REGISTRATION\"},{xtype:\"fieldset\",title:\"Visitor Details\",instructions:\"Information on the visitor\"",866067,33,"\"Name\",itemId:\"name\",name:\"name\"},{xtype:\"textfield\",label:\"Contact No\",itemId:\"phone\",name:\"phone\"},{xtype:\"textfield\",label:\"Vehicle No\",itemId:\"vehicle\",name:\"vehicle\"}]},{xtype:\"fieldset\",title:\"ID Picture Taken\",instructions:\"Push the button below for immediate action",593214,35,881210,33,"button\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-camera\",text:\"SNAP CAMERA",886939,46,"camera\",e",865500,38,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-phone\",text:\"TO CALL OWNER",886939,46,"call\",e",865500,38,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-users\",text:\"INFORM MANAGEMENT",886939,46,"management\",e,f,h,g)}}},{xtype:\"textfield\",",866008,45,"flex:2",839215,76,"]},{itemId:\"loadedImage\",xtype:\"img\",width:\"80%\",height:\"200px\",style:\"margin-top:5px; margin-bottom:5px; background-position: left;\"}]});this.setItems([a,c",855598,61,"},0,[\"registerVisitor",844080,49,"registerVisitor",401216,34,"panel:true,formpanel:true,registerVisitor:true},[\"widget.registerVisitor\"],0,[mhelpdesk.view.visitor,\"Register",890678,420,"view.client\":\"app/view/client\",\"mhelpdesk.view.visitor\":\"app/view/visitor",891085,231,"locale=null;var system=null;var utils=null;var isLogin=false;var user",891306,150,"Utils",891453,165,"osPage\",\"ticket.SosList\",\"ticket.SosAction\",\"VisitorPage",891614,59,"Intercom\",\"CallList\",\"OccupantPage\",\"client.OccupantList\",\"visitor.Register",891670,102,",\"GuardPage",891771,111,"Intercom",891879,91,",\"ClientUnit",891969,436,"Intercom",892397,57,",\"LocalAllClient\",\"RemoteCommon\",\"RemoteAllClient\",\"LocalSosTicket\",\"RemoteSosTicket",892453,476,"app=mhelpdesk.app;",892929,52,795491,58,"utils=mhelpdesk.view.Utils",892998,2942,895941,414]