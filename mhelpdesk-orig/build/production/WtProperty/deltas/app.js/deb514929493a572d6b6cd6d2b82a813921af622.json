["function _91941414d5c4691c664d0792f343942f53ec440",49,2315,"client){mhelpdesk.view.client",2341,118,"if(!mhelpdesk.view.ticket){mhelpdesk.view.ticket={}}if(!mhelpdesk.view.visitor){mhelpdesk.view.visitor",2455,61653,64120,409408,"Json",469552,44,"ajax\",reader:\"json\",writer:\"json\"}}},0,0,0,0,[\"store.json\"],0,[Ext.data,\"JsonStore",404224,33,473528,216695,"Activity\",Ext.Menu,{txtRegEvent:\"Daftar Aktiviti\",",690239,36,690373,74,"cls:\"r-menu-activity\"",690446,231,"this.setItems([{itemId:\"mnuCreateEvent\",iconCls:\"fa-calendar\",menu:\"mnuCreateEvent\",text:this.txtRegEvent,ui:\"action\",hidden:true},{itemId:\"mnuHome\",iconCls:\"fa-home\",menu:\"mnuHome",691146,43,"nuReturn\",iconCls:\"fa-undo\",menu:\"mnuReturn",691246,35,"]);Ext.Menu",865216,44,"},0,[\"menuactivity",313263,50,",\"menuactivity",313312,65,",menuactivity:true},[\"widget.menuactivity\"],0,[mhelpdesk.component,\"MenuActiv",822992,37,690209,164,"txtIntercom:\"Intercom\",txtBilling:\"Check Bills\",txtExternal:\"External Call",690371,76,"cls:\"r-menu-home\"",690446,322,"Guard Setup",690775,32,"GuardSetup\",name:\"mnuGuardSetup\",ui:\"action\",hidden:false,menu:\"mnuGuardSetup",690865,315,"text:this.txtIntercom,iconCls:\"fa-tty\",itemId:\"mnuIntercom\",name:\"mnuIntercom\",hidden:true,ui:\"action\",menu:\"mnuIntercom\"},{text:this.txtExternal,iconCls:\"fa-phone\",itemId:\"mnuExternalCall\",name:\"mnuExternalCall\",hidden:true,ui:\"action\",menu:\"mnuExternalCall\"},{text:this.txtBilling,iconCls:\"fa-credit-card\",itemId:\"mnuBilling\",name:\"mnuBilling\",hidden:true,ui:\"action\",menu:\"mnuBilling\"",691177,112,"SOS\",iconCls:\"fa-fire\",itemId:\"mnuSOS\",name:\"mnuSOS",691353,34,"SOS\"",691280,411,"component.MenuNotification\",Ext.Menu,{txtRegNotification:\"Daftar Makluman\",",690239,39,"GroupSubscription:\"Langganan Kumpul",690369,78,"cls:\"r-menu-notification\"",690446,231,"this.setItems([{itemId:\"mnuCreateNotification\",iconCls:\"fa-flag-o\",menu:\"mnuCreateNotification\",text:this.txtRegNotification,ui:\"action\",hidden:true},{itemId:\"mnuGroupSubscription\",iconCls:\"fa-sign-in\",menu:\"mnuGroupSubscription\",text:this.txtGroupSubscription,ui:\"action\",hidden:false},{itemId:\"mnuHome\",iconCls:\"fa-home\",menu:\"mnuHome",691146,46,"Return\",name:\"menuReturn\",iconCls:\"fa-undo\",menu:\"menuReturn",691246,35,"]);Ext.Menu",865216,44,"},0,[\"menu",851924,41,"panel\",\"sheet\",\"menu\",\"menu",851983,46,691558,36,"notification:true},[\"widget.menunotificati",690136,33,852128,51,"SosPage\",Ext.Panel,{config:{itemId:\"sospage\",cls:\"p-sos-page\",",873896,47,"},txtFilter:\"Find\"",492160,33,840602,33,"b=mhelpdesk.view.Locale;var e",873871,39,870443,50,"electfield\",itemId:\"selection\",usePicker:true,cls:\"r-tool-item\",width:100,options:[{text:\"Status\",value:\"status\"},{text:\"Name\",value:\"name\"},{text:\"Unit No\",value:\"serial_no\"},{text:\"Date\",value:\"created\"}],listeners:{change:function(h,i,f,g){if(i==\"status\"){d.down(\"#filterStatus\").setHidden(false);d.down(\"#filterText\").setHidden(true)}else{d.down(\"#filterStatus\").setHidden(true);d.down(\"#filterText\").setHidden(false)}}}},{xtype:\"selectfield\",cls:\"r-tool-field\",itemId:\"filterStatus\",usePicker:true,flex:1,hidden:false,options:[{text:\"OPEN\",value:\"open\"},{text:\"CLOSED\",value:\"closed\"}]},{xtype:\"textfield\",cls:\"r-tool-field\",flex:1,hidden:true,itemId:\"filterText\"",878329,59,"pack:\"start\",align",862160,32,"e,{xtype:\"button\",width:100,itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",862253,40,"text:d.txtFilter",854752,32,"d.fireEvent(\"filter\",d,f,h,g)}}},{xtype:\"button\",width:100,itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",831331,37,"text:\"CLOSE\"",854752,32,"d.fireEvent(\"close\",d,f,h,g",831563,215,"f,h,g){d.fireEvent(\"info\",d,f,h,g)}}}]});this.setItems([a,{xtype:\"sosLis",828155,112,"SOS Call ",883128,35,629100,32,"apply(this,arguments)}},0,[\"sos",852526,33,"panel\",\"sosp",855423,48,"sospage:true},[\"widget.sospage\"],0,[mhelpdesk.view,\"Sos",828480,43,691696,124,"Name",691807,207,"s",692014,67,"s",692081,282,",ambulance:null,police",692358,279,"s",692637,2465,",Date:\"Tarikh",695101,3511,"Jenis Skrin",700858,44,698672,5866,",Date:\"Date",704537,3276,"Screen Mod",709965,40,707866,5813,"_session:null,_socket:null,config:{itemId:\"controller\",",713687,60,"guardPage:\"guardPage\",homepage:\"homepage\",sospage:\"sospage\",sosACtion:\"sosACtion\",visitorPage:\"visitorPage\",registerVisitor:\"registerVisitor",713765,96,"occupantList:\"occupant",713855,124,"sosList:\"sosList\",ticketList:\"ticketList\",notification:\"notification\",event:\"even",714000,1492,"n.updSysSetting(\"user\",n._email",715490,515,"a,d,f){var b=a.getItemId()+\".tap\";var h=this;try",717228,69,"var j=a.getItemId();app.dh(\"Menu Click\",j,b);var i=h",716160,37,"j){app.dh(\"Menu\",\"Click\",j,b);switch(j){case\"mnuHome\":h.gotoHome();break;case\"menuHome99\":h.popPage();break;case\"mnuLogout\":h.doLogout();break;case\"mnuSOS\":h.doSOS();break;case\"mnuExternalCall\":if(h._deviceOS==\"Android\"||h._deviceOS==\"iOS\"){h.call(true)}else{h.showMsgBoxOK(locale.getAlertText(),\"Only applicable on mobile device!\",Ext.MessageBox.ERROR,true)}break;case\"mnuReturn\":",768685,114,"h",768800,80,"h",716311,34,"j);if(h",716352,41,"h",716394,34,"h",716429,39,"h.pushPage(h",716480,44,"c=h.getMainpage();c",716543,39,"h.gotoHome();break;case\"intercom\":h.pushPage(h._currentPage);break}}break}}}catch(g",716613,36,"g",716650,43,"h,a,b){var d=this;var g=\"mainpage\";d.debugHandler(g,\"info\",g);app.dh(\"Tab Change\",h.getItemId(),c.getItemId(),g);if(h==0){}else{switch(h.getItemId()){case\"tabHome",716846,156,"g",717003,139,716848,115,"var f",717147,43,716848,115,"var e=d.getTicket();if(system.getIsLogin()){d",741547,47,"l,k,m){if(m&&l.length>0){var j=l[0];var n=j.get(\"client_id\");e.down(\"#name\").setValue(j.get(\"client_firstname\")+\" \"+j.get(\"client_lastname\"));e.down(\"#email\").setValue(j.get(\"client_email\"));var i=j.get(\"client_phone\");if(!i){i=j.get(\"client_mobile\")}e.down(\"#phone\").setValue(i);d.load_product(n,true,function(q,o,s){if(q.length>0){var r=q[0];e.down(\"#asset_id\").setValue(r.get(\"asset_id\"))}else{d.showMsgBoxOK(locale.getAlertText(),\"You do NOT have unit no associate to you, please ask management\",Ext.MessageBox.ERROR,false);d.clearStore(d._localProductStore)}})}})}break;case\"tabStatus",716846,131,"Notification\":if(!d._MenuNotification){d._MenuNotification",716876,37,"Notification\")}d._menu=d._MenuNotification;d.setMenuNotification(d._menu);break;case\"tabEvent\":if(!d._MenuActivity){d._MenuActivity",716876,37,"Activity\")}d._menu=d._MenuActivity;d.setMenuActivity(d._menu);break;case\"tabSetting",716846,122,"}}}},sospage:{close:function(c,a,d,b){this.popPage()},filter:function(g,i,d,f){var h=this;var c=g.getItemId()+\".filter\";app.dh(\"Start\",\"...\",c);var l=g.down(\"#selection\").getValue();if(l==\"status\"){var b=g.down(\"#filterStatus\").getValue();h.getTicketBySOS(true,\"ticket.status='\"+b+\"'\",function(m,e,n){})}else{if(l==\"name\"){var a=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"ticket.name LIKE '\"+a+\"%'\",function(m,e,n){})}else{if(l==\"serial_no\"){var k=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"asset.seral_no='\"+k+\"'\",function(m,e,n){})}else{if(l==\"created\"){var j=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"ticket.created LIKE '\"+j+\"%'\",function(m,e,n){})}else{}}}}}},sosACtion:{close:function(c,a,d,b){this.popPage()}},visitorPage:{tapBack:function(c,a,d,b){this.popPage()},tapRegister:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapRegister\";app.dh(\"Start\",\"...\",h);var a=Ext.create(\"mhelpdesk.view.visitor.Register\");d.pushPage(a)}},registerVisitor:{close:function(c,a,d,b){this.popPage()},camera:function(f,a,g,c){var d=this;var i=f.getItemId()+\".camera\";app.dh(\"Start\",\"...\",i);var b",830582,47,"\");d.getPhoto(a,b,h)}},guardPage:{activate:function(e,d,a,b){var c=this;var f=d.getItemId()+\".show\";app.dh(\"Start\",\"...\",f);c.getTicketBySOS(false,\"ticket.status='open'\",function(h,g,j){console.error(h.length);if(h.length>0){var i=d.down(\"#sosMain\");i.setBadgeText(h.length)}})},tapCallOwner:function(d,a,f,b){var c=this;var g=d.getItemId()+\".tapCallOwner\";app.dh(\"Start\",\"...\",g);var d=Ext.create(\"mhelpdesk.view.OccupantPage\");c.load_all_client(false,function(h,e,i){console.error(h);c.pushPage(d)})},tapAmbulance:function(g,i,c,d){var h=this;var a=g.getItemId()+\".tapAmbulance\";app.dh(\"Start\",system.getAmbulance(),a);if(h._deviceOS==\"Android\"||h._deviceOS==\"iOS\"){var j=true;window.plugins.CallNumber.callNumber(f,b,system.getAmbulance(),j)}else{h.showMsgBoxOK(locale.getAlertText(),\"Only applicable on mobile device!\",Ext.MessageBox.ERROR,true)}function f(e){console.log(\"Success:\"+e)}function b(e){console.log(\"Error:\"+e)}},tapPolice:function(g,i,c,d){var h=this;var a=g.getItemId()+\".tapPolice\";app.dh(\"Start\",system.getPolice(),a);if(h._deviceOS==\"Android\"||h._deviceOS==\"iOS\"){var j=true;window.plugins.CallNumber.callNumber(f,b,system.getPolice(),j)}else{h.showMsgBoxOK(locale.getAlertText(),\"Only applicable on mobile device!\",Ext.MessageBox.ERROR,true)}function f(e){console.log(\"Success:\"+e)}function b(e){console.log(\"Error:\"+e)}},tapSos:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapSos\";app.dh(\"Start\",\"..\",h);var a=Ext.getStore(\"localSosTicketStore\");d.getTicketBySOS(true,\"ticket.status='open'\",function(i,e,k){console.error(i.length);if(i.length>0){var j=Ext.create(\"mhelpdesk.view.SosPage\");d.pushPage(j)}})},tapVisitor:function(m,o,j,k){var n=this;var f=m.getItemId()+\".tapVisitor\";app.dh(\"Start\",\"..\",f);var g=Ext.create(\"mhelpdesk.view.VisitorPage\");var m=g;var a=m.down(\"#mainPanel\");var l=[];l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-pencil-square-o fa-2x\",text:\"NEW REGISTER\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapRegister\",m,i,r,q)}}});l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-users fa-2x\",badgeText:\"0\",text:\"VISITOR LIST\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-credit-card fa-2x\",text:\"VISITOR PASS\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button",878793,32,"uck fa-2x\",badgeText:\"0\",text:\"DELIVERY VEHICLE\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button",831331,35," fa-2x\",text:\"BACK TO MAIN\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapBack\",m,i,r,q)}}});var h=1;var b;var c=[];for(var d=0;d<l.length;d++){if(h==1){b",873871,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});c.push(b)}b.add(l[d]);h++;if(h>3){h=1}}for(var d=0;d<c.length;d++){a.add(c[d])}n.pushPage(g)},tapLogin:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapVisitor\";app.dh(\"Start\",\"..\",h);if(system.getIsLogin()){d.doLogout()}else{var a=",756347,35,"d.pushPage(a)",717196,1488,"debu",718686,51,"padding:5,",718737,186,"cls:\"r-main-content\",width:\"100%",718996,273,"d",719270,19796,"d",739106,599,"occupantList:{onRefresh:function(c,b){var a=this;var d=c.getItemId()+\".onItemDisclosure\";app.dh(\"Start\",\"...\",d);a.load_all_client(true)},itemtap:function(m,f,g,d,h,i){var l=this;var b=\"occupationList-itemtap\";app.dh(\"Start\",\"...\",b);try{var a=d.get(\"client_phone\");if(!a){d.get(\"client_mobile\")}if(a){if(l._deviceOS==\"Android\"||l._deviceOS==\"iOS\"){var n=true;window.plugins.CallNumber.callNumber(k,c,system.getAmbulance(),n)}else{l.showMsgBoxOK(locale.getAlertText(),\"Only applicable on mobile device!\"",749939,34,"l.showMsgBoxOK(locale.getAlertText(),\"No contact number availaible!\",Ext.MessageBox.ERROR,true)}function k(e){console.log(\"Success:\"+e)}function c(e){console.log(\"Error:\"+e)}}catch(j){l.errHandler(j,b)}},onItemDisclosure:function(c,a){var b=this;var d=c.getItemId()+\".onItemDisclosure\"}},sosList:{itemtap:function(k,c,d,b,f,g){var j=this;var a=k.getItemId()+\".itemtap\";app.dh(\"Start\",\"...\",a",741125,39,"ticket.SosAction\");j.getTicketById(b.data.ticket_id,true,function(l,e,m){console.error(l.length);j.pushPage(i);if(l.length>0){i.setRecord(l[0])}})}catch(h){j.errHandler(h,a)}",739702,56,",onRefresh:function(b,a){var c=this;a",766270,33,"e,f,h){if(e.length>0){var d=e[0];var g=d.get(\"ticket_id\");c.getTicketMessage(g,true)}}}",739756,82,"o,q,k,l){var n=this;var h=\"postMessage-postReply\";n.debugHandler(h,\"info\",h);try{var b=o;var j=b.getValues();var s=true;var r=new Array()",714765,37,"j.id;var f=o",740024,36,"s=false;r",740069,80,"s){",715071,52,"d(0,3000)}else{var a=\"\";Ext.each(r,function(t,e){a+=\"[\"+(e+1)+\"] - \"+t.field+\" \"+t.reason+\"<br>\"});n.displayError(g,a,true)}function d(v,t){var e=false;var u",740221,95,"n",819902,32,740349,33,"ticket_id:i,id:i",740386,37,"w){console.error(\"REPLY SUCCESS\");try{if(w){var y=n.getJSON(w.responseText);console.error(y);if(y){u=y.message;if(y.success){f.setRefid(y.msgid);e=true;n.dh(h,\"debug\",\"Send Action Reply\",i",744352,54,"t,scope:n",744415,47,"actionreply",744984,38,"i},success:function(z){},failure:function(z){n.eh(\"Ticket Alert Fail\",h)}})}}}}catch(x){u=x}c(e,u)},failure:function(w){if(v==0){console.error(\"Try AGAIN\");d(1,10000);return}if(w){var x=n.getJSON(w.responseText);if(x){u=w.responseText}}console.error(\"REPLY FAIL \"+u);c(false,u)}})}function c(e,t){n.hideMyMasked();if(e){if(f.isStateReady()){f.setTicketid(i);f.doPost()}n.getTicketMessage(i,true);n.popPage()}else{n.errHandler(t,h);n.displayError(g,t,true)}}}catch(m){n.errHandler(m,h",740953,677,"var i=e.get(\"client_id\")",741629,219,";a.load_product(i,true,function(k,j,m){if(k.length>0){var l=k[0];b.down(\"#asset_id\").setValue(l.get(\"asset_id\"))}else{a.showMsgBoxOK(locale.getAlertText(),\"You do NOT have unit no associate to you, please ask management\",Ext.MessageBox.ERROR,false);a.clearStore(a._localProductStore)}})}",741950,2920,"t.dh(m,\"debug\",\"Send Action Ticket\",B",744352,110,744978,472,"y,x){var w",745460,47,"y",745508,73,"x);h.doPost()}w",745596,78,"x});t.pushPage(w",745690,78,"ISTRATOR",745768,32,";var v=t.getTicket();if(system.getIsLogin()){t",741547,47,"C,B,D){if(D&&C.length>0){var A=C[0];var E=A.get(\"client_id\");v.down(\"#name\").setValue(A.get(\"client_firstname\")+\" \"+A.get(\"client_lastname\"));v.down(\"#email\").setValue(A.get(\"client_email\"));var z=A.get(\"client_phone\");if(!z){z=A.get(\"client_mobile\")}v.down(\"#phone\").setValue(z);t.load_product(E,true,function(G,F,I){if(G.length>0){var H=G[0];v.down(\"#asset_id\").setValue(H.get(\"asset_id\"))}else{t.showMsgBoxOK(locale.getAlertText(),\"You do NOT have unit no associate to you, please ask management\",Ext.MessageBox.ERROR,false);t.clearStore(t._localProductStore)}})}})}t.getTicketByClient(system.getLastId(),true)}else{t.errHandler(y,m);w",745596,40,745865,37,"y});t.pushPage(w",745918,80,746244,46,746296,38,"_tickectId=b.get(\"ticketID\");i._currentTicket=b}catch(h){i.errHandler(h,a",746217,228,"d.dh(e,\"debug\",\"Start\",system.getLastId());try{if(system.getLastId()){d",715072,51,"d.getTicketByClien",741862,35,746542,57,"notification:{",746381,42,"notification-onRefresh\";d.dh(e,\"debug\",\"Start\",\"..\");try{if(system.getLastId()){d",715072,51,"d.load_notification(true",746532,67,"event:{",746381,42,"event-onRefresh\";d.dh(e,\"debug\",\"Start\",\"..\");try{if(system.getLastId()){d",715072,51,"d.load_event(true",746532,1078,",true",747610,5309,"createMainButton:function(){var e=this.getItemId()+\".createMainButton\";var j=this;app.dh(\"Start\",\"...\",e);var g=Ext.create(\"doc.view.GuardPage\");var a=g.down(\"#mainPanel\");var h=[];h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-motorcycle fa-2x\",text:\"Dispatch Service\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapDispatch\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-pencil-square-o fa-2x\",text:\"Subscribe to Service\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapSubscribe\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-laptop fa-2x\",text:\"Service Listing\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapListing\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-check fa-2x\",text:\"Check Order\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapCheckOrder\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-thumbs-o-up fa-2x\",text:\"Comments\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapComment\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-tasks fa-2x\",text:\"Order List\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapOrder\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-gear fa-2x\",text:\"Setting\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapSetting\",g,i,l,k)}}});var f=1;var b;var c=[];for(var d=0;d<h.length;d++){if(f==1){b",873871,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});c.push(b)}b.add(h[d]);f++;if(f>3){f=1}}for(var d=0;d<c.length;d++){a.add(c[d])}return g},doSOS:function(){var o=this;var g=\"controller.doSOS\";o.dh(g,\"debug\",\"Start\",\"...\");var e,h,a,l,j,q,i,k,n,r,b,q,f;o",741547,32,"true,function(t,u,v){if(t.length>0){var s=t[0];e=s.get(\"company_id\");h=s.get(\"client_id\");a=s.get(\"client_firstname\")+\" \"+s.get(\"client_lastname\");l=s.get(\"client_email\");j=s.get(\"client_phone\");i=2;k=2;b=4;console.error(\"SOS READY TO SEND \"+h);o.load_product(h,true,function(x,w,z){if(x.length>0){var y=x[0];q=y.get(\"asset_id\");f=y.get(\"serial_no\");console.error(\"SOS OK TO SEND \"+f);n=m(\"SOS Message From occupant %s (%s)!\",[a,f]);r=m(\"SOS button is pressed by %s at Unit No %s. Urgent action is required.\",[a,f]);o",715072,51,"d(0,3000)}})}});function m(u,s){for(var t=0;t<s.length;t++){u=u.replace(/%s/,s[t])}return u}function d(t,s){console.error(\"SOS SEND\"",744352,54,"s,scope:o",744415,90,"e,client_id:h,name:a,email:l,phone:j,asset_id:q,topic_id:i,topicId:k,subject:n,message:r,pri:b},success:function(u){var x=\"\";var y=null;console.error(\"SOS SEND SUCCESS\");try{if(u){var w=o.getJSON(u.responseText);if(w){msg=w.message;if(w.success){y=w.ticket_id;x=w.ticketID;flag",744864,58,"s,scope:o",744415,47,744978,44,"y,company_id:e,client_id:h,name:a,email:l,phone:j,asset_id:q,topic_id:i,topicId:k,subject:n,message:r,pri:b},success:function(z){},failure:function(z){o.eh(\"Ticket Alert Fail\",g)}})}}}}catch(v){msg=v}c(flag,msg,x)},failure:function(u){if(t==0){d(1,10000);return}if(u){var v=o.getJSON(u.responseText);if(v){msg=u.responseText}}c(false,msg)}})}function c(s,v,u){var t;o.hideMyMasked();if(s){console.error(\"SOS ALERT\");o.sendAndroidUserTag(l,\"CLIENT\");o",745732,36,"ISTRATOR\",n,r);o.showMsgBoxOK(locale.getAlertText(),\"SOS Message Send\",Ext.MessageBox.INFO,true)}else{o.errHandler(v,g)",752915,2368,";d._countNav=d._countNav+1;if(d._backItem){if(d._countNav>0){app.dh(\"push\",\"enable backItem\",f);d._backItem.setDisabled(false)}",755974,32,755314,96,"if(b){a.pop(b)}else{a.pop()}",755632,42,"0){console.error(d._countNav);if(d._backItem){app.dh(\"pop\",\"disable backItem\",e);d._backItem.setDisabled(true)}}",755505,33,755539,610,"GuardSetup\":break;",756141,253,"nuIntercom",756272,35,"Intercom",756379,2103,"Activity:function(b){var c=\"setMenuActivity\";var a=this;switch(a._sysRole){case\"ADMIN\":b.down(\"#mnuCreateEvent\").setHidden(false);break;default:break}},setMenuNotification:function(b){var c=\"setMenuNotification\";var a=this;app.dh(\"Start\",\"..\",c);switch(a._sysRole){case\"ADMIN\":b.down(\"#mnuCreateNotification\").setHidden(false);break;default:break",758472,58,"app.dh(\"Start\",\"..\",d);try{",758563,45,"if(system.getIsLogin()){c.down(\"#mnuIntercom\").setHidden(false);c.down(\"#mnuExternalCall\").setHidden(false);c.down(\"#mnuBilling\").setHidden(false)}else{c.down(\"#mnuIntercom\").setHidden(true);c.down(\"#mnuExternalCall\").setHidden(true);c.down(\"#mnuBilling\").setHidden(true)",758607,3639,"1b1b57f7-fdae-47c1-a9e5-453b9992a2ba\",{googleProjectNumber:\"738763005130\"},a);e._socket=io.connect(\"110.74.184.36\");e._socket.on(\"messageReceived\",onVideoMessageReceived);e._socket.on(\"onMessage\",function(h){e._session.receiveMessage(h)})}catch(d){}}}catch(d){}},call:function(a){var e=this.getItemId()+\".call\";var d=this;var b={isInitiator:a,turn:{host:\"110.74.184.36\",username:\"201\",password:\"spa201fsw\"},streams:{audio:true,video:true}};try{d._session=new cordova.plugins.phonertc.Session(b);d._session.on(\"answer\",function(){app.dh(\"answer\",\"Other client answered!\",e)});d._session.on(\"disconnect\",function(){app.dh(\"disconnect\",\"Other client disconnected!!\",e)});d._session.on(\"sendMessage\",function(f){app.dh(\"sendMessage\",f,e);d._socket.emit(\"sendMessage\",{type:\"phonertc_handshake\",data:JSON.stringify(f)})});d._session.call()}catch(c){app.eh(c,e)}},onVideoMessageReceived:function(b){var a=this;switch(b.type){case\"call\":break;case\"answer\":a.call(true);break;case\"phonertc_handshake\":a._session.receiveMessage(JSON.parse(b.data));break}},subscribeOneSignal:function(b,e,a){var c=this;var d=this.getItemId()+\".subscribeOneSignal\";c.OneSignal=OneSignal||[];c.OneSignal.push([\"init\",{appId:\"1b1b57f7-fdae-47c1-a9e5-453b9992a2ba\",subdomainName:\"wtpropertycheck.onesignal.com\",notifyButton:{showCredit:false,size:\"medium\",theme:\"inverse\",position:\"bottom-right\",offset:{bottom:\"0px\",left:\"0px\",right:\"0px\"},text:{\"tip.state.unsubscribed\":\"Subscribe to wtProperty notifications\",\"tip.state.subscribed\":\"You're subscribed to wtProperty notifications\",\"tip.state.blocked\":\"You've blocked notifications\",\"message.prenotify\":\"Click to subscribe to notifications\",\"message.action.subscribed\":\"Thanks for subscribing!\",\"message.action.resubscribed\":\"You're subscribed to wtProperty notifications\",\"message.action.unsubscribed\":\"You won't receive notifications again\",\"dialog.main.title\":\"wtProperty Notifications Subscription\",\"dialog.main.button.subscribe\":\"SUBSCRIBE\",\"dialog.main.button.unsubscribe\":\"UNSUBSCRIBE\",\"dialog.blocked.title\":\"Unblock Notifications\",\"dialog.blocked.message\":\"Follow these instructions to allow notifications:\"},enable:true}}]);c.OneSignal.push(function(){c.OneSignal.on(\"subscriptionChange\",function(f){if(f){c.OneSignal.getUserId(function(g){c.dh(\"Subscribe\",g,d);c.OneSignal.push([\"sendTags\",{user:b,role:e,company:system.getCompanyName()}])})}})});c",745732,36,"ISTRATOR\",\"Login\",\"User \"+b+\" just login ...\")",762346,383,"system.getCompanyName()",762737,431,"+system.getCompanyName()",763168,533,"system.getCompanyName()",763709,395,"+system.getCompanyName()",764104,248,764360,114,"system.getCompanyName(),role:e})}",769693,45,764537,2187,",f.data.company_name,f.data.user",772600,36,"c",772637,46,"c",772684,32,"f",772717,38,766879,106,"system.setCompanyName(f.get(\"company_name\"));system.setUser(f.get(\"user",766981,84,"name:\"+system.getCompanyName",767089,293,"true);b.load_all_client",767381,179,";b.getTicketByC",767441,34,"subscribeOneSignal(system.getUser(),\"CLIENT\",system.getCompanyName()",767559,35,"doInitOneSignal:function(){var b=this;var d=\"controller.doInitOneSignal\";b.dh(d,\"debug\",\"Start\",b._deviceOS);if(b._deviceOS==\"Default\"){var a=system.getUser();var c=c||[];console.error(c);c.push([\"init\",{appId:\"1b1b57f7-fdae-47c1-a9e5-453b9992a2ba\",subdomainName:\"wtpropertycheck.onesignal.com\",notifyButton:{showCredit:false,size:\"medium\",theme:\"inverse\",position:\"bottom-right\",offset:{bottom:\"0px\",left:\"0px\",right:\"0px\"},text:{\"tip.state.unsubscribed\":\"Subscribe to WtPropertyCheck notifications\",\"tip.state.subscribed\":\"You're subscribed to WtPropertyCheck notifications\",\"tip.state.blocked\":\"You've blocked notifications\",\"message.prenotify\":\"Click to subscribe to notifications\",\"message.action.subscribed\":\"Thanks for subscribing!\",\"message.action.resubscribed\":\"You're subscribed to WtPropertyCheck notifications\",\"message.action.unsubscribed\":\"You won't receive notifications again\",\"dialog.main.title\":\"WtPropertyCheck Notifications Subscription\",\"dialog.main.button.subscribe\":\"SUBSCRIBE\",\"dialog.main.button.unsubscribe\":\"UNSUBSCRIBE\",\"dialog.blocked.title\":\"Unblock Notifications\",\"dialog.blocked.message\":\"Follow these instructions to allow notifications:\"},enable:true}}]);c.push(function(){c.on(\"subscriptionChange\",function(e){if(e){c.getUserId(function(f){c.push([\"sendTags\",{user:a,role:\"CLIENT\",company:system.getCompanyName()}])})}})}",767590,1042,"app.dh(\"Menu Item\",\"Click\",e",768672,362,";if(system.getScreenMode()==2){b=c.getGuardPage()}else{b=c.getMainpage()}",769051,2205,"l){var i=this;var d",771275,32,"j=system.getTitle();var g=system.getEmail();var c=system.getMembers();var e=system.getPhone();var h=system.getCompany();var k=system.getCompanyId();var m=system.getCompanyName();var b=system.getUser();console.error(\"companyId:\"+k",771483,68,"j)?j:\"Mobile Helpdesk\",members:(c)?c",771587,142,"g)?g:\"support@wbiztech.com\",phone:(e)?e",771768,41,"h)?h",771813,32,"k)?k:i._def_company_id,company_name:(m)?m:\"WT HELPDESK\",user:(b)?b:\"public@localhost.com\"",771867,65,"i",771933,66,"i.clearStore(i._localSystemSettingStore);i",772041,33,"i",786992,33,"i",772109,50,"q,o,u){if(q.length>0){blnFlag=true;var n=q[0];try{var t=n.get(\"sound\");var s=false;if(t==1){s",772252,39,"n.get(\"company_id\"));i.initSystemConfig(n.data.title,n.data.members,n.data.locale,n.data.ticker_interval,s,n.data.notice,n.data.color_true,n.data.color_false,n.data.email,n.data.phone,n.data.screen_mode,n.data.theme,n.data.company,n.data.company_id,n.data.login_flag,n.data.login_remember,n.data.last_clientid,n.data.company_name,n.data.user",772600,36,"i",772637,46,"i",772684,32,"n",772717,38,"n",766880,39,"n",772796,41,"n.get(\"last_clientid\"));system.setCompanyName(n.get(\"company_name\"));system.setCompanyUser(n.get(\"user\"));i._lang=n.get(\"locale\");i._screenMode=n.data.screen_mode}catch(r){i.errHandler(r,d)}}if(l){l(q,o,u)}}})}catch(f){i.errHandler(f,d);l",772993,1621,"f,a){var e=this;var c=this.getItemId()+\".filterTicketById\";try{var g=null;var i=false;var b=new RegExp(a,\"i\");console.log(b);var h",775918,36,"clearFilter();h.filterBy(function(j){i=b.test(j.get(f));if(i){g=j}});h.clearFilter();return g}catch(d){e.errHandler(d,c",774861,392,"f,i){var h=this;var c",775272,38,"c,\"info\",c",775320,45,776191,33,775822,55,"d",775454,105,"if(!h.checkRefresh(f",779171,56,"d,j,f,i)}}catch(e){h.errHandler(e,c)}},getTicketById:function(b,",775251,34,"Id",775290,56,"ticket_id=\"+b",775360,199,779151,42,"d,j,i)}else{h.remoteStoreCall(d,c",780682,35,"d)}},getTicketByClient:function(b,",775251,34,"Client\";app.dh(\"Start\",\"...\",d);try{var a=\"ticket.client_id=\"+b",775360,199,779151,42,"d,j,i)}else{h.remoteStoreCall(d,c",780682,35,"d)}},getTicketBySOS:function(g,b",775252,33,"SOS\";app.dh(\"Start\",b,d);try{var a=\"ticket.topic_id=2\";if(b){a+=\" AND \"+b}app.dh(\"Filter\",a,d)",775360,115,"Sos",775899,39,"SosTicketStore\");h._localSosTicketStore=j;j.load()",779150,43,"d,j,i)}else{h.remoteStoreCall(d,c",780682,35,"d)}},getTicketMessage:function(c,f,h){var g=this;var b",776127,38,"b,\"info\",b,\"...\");try{var a",776192,45,"c};var d",776245,108,"if(!g.checkRefresh(f,i)){g.localStoreCall(b,i,h)}else{g.remoteStoreCall(b,a,d,i,f,h)}}catch(e){g.errHandler(e,b",776446,257,",true",776703,1307,"company_id=\"+system.getCompanyId()+\" AND (sdatetime < DATE(NOW()) AND edatetime > DATE(NOW())) AND mesg_type='PUBLIC' OR mesg_type='CLIENT'",781808,33,"notification\",filter:a",778569,58,778151,344,"(sdatetime < DATE(NOW()) AND edatetime > DATE(NOW()))",781808,33,"event\",filter:a",778569,2223,"client",781741,57,780853,347,"load_all_client",778853,39,"lient",780318,57,"client.client_isactive=1 AND client.company_id=\"+system.getCompanyId()",778959,33,"lients\",filter:a,sort:\"client.client_firstname",780460,45,"AllClien",775904,34,"AllClientStore\");h._localAllClient",780584,157,781200,1045,"+c",780840,58,782303,3802,"n){var m=this;var g",786124,36,"k=false;try{var a=n;var i=a.getValues();if(!m._localSystemSettingStore){m",771933,65,"}var h=0;var j=0;if(i.sound){h=1}j=i.screen_mode;console.error(\"ScreenMode:\"+j);var o=system.getCompanyId();var f=system.getIsLogin();var e",786412,51,"q=system.getCompanyName();var d=system.getUser",786456,68,"i.title,members:i.members,locale:i.locale,ticker_interval:i.ticker_interval,sound:h,notice:i.notice,color_true:i.color_true,color_false:i.color_false,email:i.email,phone:i.phone,screen_mode:j,theme:i.theme,company:i.company,company_id:o,login_flag:f,login_remember:e,last_clientid:b,company_name:q,user:d});m.debugHandler(g,\"info\",\"Saving \",\"..\");m",771933,66,"m.clearStore(m._localSystemSettingStore);m",786958,33,"m",786992,33,"m",772109,50,"){system.setTitle(i.title);system.setMembers(i.members);system.setLanguage(i",787152,34,"i",787187,34,"h);system.setNotice(i.notice);system.setColorTrue(i",787272,34,"i.color_false);system.setTheme(i.theme);system.setCompany(i.company)}});k=true}catch(l){m.errHandler(l,g)}return k",787420,1140,"2.7",788563,157,"system.setUrlPicturePath(\"https://www.wtpropertycheck.com/\"",788718,384,"h){if(h){d.initData();var g=utils.findRecord(d._localConfigStore,\"company_id\",system.getCompanyId());if(g){system.setPolice(g.get(\"default_police\"));system.setAmbulance(g.get(\"default_ambulance\"))}",789124,110,"i=system.getTheme();var j=d.currentCSS(i);d.changeCSS(\"resources/css/\"+i,j",789308,73,"user:\",system.getUser());d.debugHandler(f,\"log\",\"isLogin:\",system.getIsLogin()",789355,581,789991,52,"company Name:\",system.getCompanyNa",789899,85,790043,183,"d.debugHandler(f,\"log\",\"server url:\",system.getDefaultServer",790222,212,"l,k,m){d.setupData(function(o,n,q",790467,78,"findRecord:function(b,c,d){var a=b.findRecord(c,d);if(a){return a}else{return null",790542,64,"d",791184,34,"app.eh(c,d)",790762,90,"b,g,f,e){var d=this;var h=\"debugHandler\";try{app.dh(g,f,c,b)}catch(a",791152,1030,"load_event(true);b.load_notification(true);b.load_all_client",792173,9060,"lientUnit",807678,74,800781,326,",\"asset_name\",\"asset_address\",\"asset_unit\"",810464,33,"clientUnit",806480,40,"ClientUni",814384,35,801226,1063,"default_ambulance\",type:\"string\"},{name:\"default_police\",type:\"string",802279,4469,"\"img_url",806746,921,"Intercom",807678,74,"id\",\"number\",\"ip\",\"name\"",810464,33,"client",806480,40,"Intercom",818048,34,807661,1095,"img_url\",\"fmessag",806672,52,808815,3548,",{name:\"company_name\",type:\"string\"},{name:\"user",807532,49,812396,1783,"AllClient",817840,40,"Al",814224,43,"Unit",815070,63,"client_firstna",818543,42,"AllCli",815728,48,"Client",817840,40,819440,44,814816,61,814330,1079,"\"Date\",c.get(\"locale\"))+\": \"+b.getText(",815464,35,",c.get(\"locale",815497,165,817472,39,815726,469,"Intercom\",Ext.data.JsonStore,{config:{storeId:\"localIntercomStore\",model:\"mhelpdesk.model.Intercom\",data:[{id:1,number:\"6015001\",ip:\"\",name:\"Salman Alai\"},{id:2,number:\"6015002\",ip:\"\",name:\"Abus Warni\"},{id:3,number:\"6015003\",ip:\"\",name:\"Ahmad Salimin\"},{id:4,number:\"6015004\",ip:\"\",name:\"Kassim Abdul\"},{id:5,number:\"6015005\",ip:\"\",name:\"Malibun\"}]",822176,33,"LocalIntercom",818048,45,"LoadedIm",821198,38,816241,646,"'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Tarikh Makluman: '",817070,47,"case\"en\":return'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Notification Date: '",817070,47,"case\"ch\":return'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Tarikh Makluman: '",817070,61,"'<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>&nbsp;Tarikh Makluman: '",817150,1081,"asse",814335,44,"Produc",814384,46,"SosTicket",817840,40,"Sos",818912,73,"return locale.getText(\"Status\")+\":\"+locale.getText(a.get(\"status\"))",814845,32,"ticke",814335,44,"SosTicke",814384,46,818327,998,818608,33,"RemoteAllClient",822304,41,"Al",814224,43,"Uni",820573,50,822830,40,"li",820638,115,"AllClien",823695,76,"Client",822304,41,819440,261,818608,33,"RemoteCommon",822304,41,"Common",819822,202,",listeners:{exception:function(c,b,a){app.eh(a.getError(),\"store.RemoteCommon\")}",822560,41,"Common",823696,75,814430,41,"remote",814476,44,820576,47,822830,157,820064,559,822830,39,820636,1066,822830,39,"notificati",823199,114,821839,1343,822830,159,"oduc",823695,76,"SosTicket",822304,41,"Sos",818912,44,820576,47,822830,39,"ticke",820640,113,"Sos",823690,82,"icket",823776,42,823443,664,"all",824112,42,"allList\",store:\"localIntercom",824183,283,828873,261,"number}</span",824768,33,"<i>{name",829198,381,"call",875472,51,"call",825615,63,"allList:true},[\"widget.callList\"],0,[mhelpdesk.view,\"Call",846800,43,824106,1755,874621,196,872236,135,850051,63,"class=\"my-event\"><div class=\"hdr-event",850169,41,"title}</div><img src=\"{[this.getImg(values.img_url)]}\" class=\"img-inline-background\"></img",850316,461,"Img:function(a){var b=system.getUrlPicturePath()+\"attachments/EVENTS\";if(a==\"Invalid File\"){return\"attachments/default.jpg\"}else{return b+a}}",850773,252,"Status\";break;case\"my\":b=\"Status\";break;case\"ch\":b=\"",851086,838,"event",851936,47,"even",873200,59,827926,151,"cls:\"p-event-",852240,80,828151,4599,"GuardPage\",Ext.Panel,{txtLogout:\"Exit\",txtMenu:\"Menu\",txtBack:\"Back\",txtMotto:\"doc Mobile\",txtCopyRight:\"\ufffff\ufffff 2016\",txtCompany:\"Domain Oracle Sdn Bhd\",txtSupportPhone:\"+60129498134\",txtSupportEmail:\"rudzuan@gmail.com\",txtTitle:\"<b>Guard Page</b>: Use below button to execute related operation. These operations are restricted to Guard operations only. \",config:{itemId:\"guardPage\",layout:\"fit\",cls:\"p-mainpage\",isLogin:false}",876446,33,".getItemId()+\".initialize\";var a=this;app.debugHandler(\"Start\",\"...\",e);var d",873871,51,"center\",align:\"center\"},cls:\"r-main-title\",html:a.txtTitle",867503,33,328933,33,",align:\"center\"},cls:\"r-main-subtitle\",html:\"Click on the items above to execute the related operation...\"",877181,41,"mainPanel\",cls:\"r-main-panel\"",328932,34,",align:\"stretch\"}});this.setItems([{xtype:\"panel\",cls:\"r-container\"",328932,34,",align:\"center\"},items:[d,b,c]}])",629100,32,"apply(this,arguments)}},0,[\"guardP",852527,32,"panel\",\"guardP",855423,48,"guardPage:true},[\"widget.guardPage\"],0,[mhelpdesk.view,\"Guard",828480,43,832750,56,"p-landingpage\",layout:\"fit\"",589448,34,832852,2146,"client.Occupa",824110,43,"occupantList\",store:\"localAl",824176,290,828873,217,"r-contact_lis",824700,43,"firstname} {client_lastname}</span><br><div style=\"color:blue;\"><span style=\"font-size: .65em; font-weight: normal;\">&nbsp;<i>{asset_name}-{asset_unit}</i>",776856,36,"65em; font-weight: normal;\">&nbsp;<i>{asset_address}</i></span></div",829221,358,"occupant",875472,51,"occupa",825613,64,"occupantList:true},[\"widget.occupantList\"],0,[mhelpdesk.view.client,\"Occupant",846800,43,"OccupantPage",829799,41,"intercom\"},txtDesc:\"List of Occupant Contact\",txtCall:\"Call External\"",492160,33,881888,143,"button\",itemId:\"btnCall\",name:\"btnCall",880698,55,"pone",876623,42,831408,83,"d.txtCal",854751,33,"d.fireEvent(\"callExternal\",d,f,h,g)}}}]});this.setItems([{html:d",829970,80,"occupa",856943,36,857099,35,"intercom",313263,37,"intercom",284704,45,"intercom:true},[\"widget.intercom\"],0,[mhelpdesk.view,\"Occupa",828478,45,"Intercom",829799,41,"intercom\"},txtDesc:\"List of Intercom Contact\",txtCall:\"Call External\"",492160,33,881888,143,"button\",itemId:\"btnCall\",name:\"btnCall",880698,55,"pone",876623,42,831408,83,"d.txtCal",854751,33,"d.fireEvent(\"callExternal\",d,f,h,g)}}}]});this.setItems([{html:d",829970,80,"call",883128,69,"intercom",313263,37,"intercom",284704,45,"intercom:true},[\"widget.intercom\"],0,[mhelpdesk.view,\"Intercom",818048,34,"view.Login",880192,34,835037,1601,"pencil-square-o",836645,1399,"t=this;var k=\"Main-initialize\";try{var l=mhelpdesk.view.Locale;var c=mhelpdesk.view.System;console.error(\"SCREENMODE:\"+c.getScreenMode());var s;if(c.getScreenMode()==2){s=Ext.create(\"mhelpdesk.view.GuardPage\");var e=s;var g=e.down(\"#mainPanel\");var f=[];var d=c.getIsLogin();var m=\"LOGIN\";var h=\"fa-sign-in fa-2x\";if(d){m=\"LOGOUT\";h=\"fa-sign-out fa-2x\"}f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-phone fa-2x\",text:\"TO CALL OWNER\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapCallOwner\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-ambulance fa-2x\",text:\"AMBULANCE\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapAmbulance\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-taxi fa-2x\",text:\"POLICE\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapPolice\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-users fa-2x\",text:\"TO CALL MANAGEMENT\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapManagement\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-university fa-2x\",text:\"LOCAL COUNCIL\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapCouncil\",e,i,v,u)}}});f.push({xtype:\"button\",itemId:\"sosMain\",iconAlign:\"top\",iconCls:\"fa-bell-o fa-2x\",text:\"S-O-S LIST\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapSos\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-camera fa-2x\",text:\"VISITOR CHECK\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapVisitor\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:h,text:m,listeners:{tap:function(i,v,u){e.fireEvent(\"tapLogin\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-gear fa-2x\",text:\"SETTING\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapSetting\",e,i,v,u)}}});var b=1;var j;var q=[];for(var n=0;n<f.length;n++){if(b==1){j",873871,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});q.push(j)}j.add(f[n]);b++;if(b>3){b=1}}for(var n=0;n<q.length;n++){g.add(q[n])}}else{s=Ext.create(\"mhelpdesk.view.MainPage\")}",838135,161,"s",838314,153,"t",838468,41,"l",838510,47,"c",838558,56,"c",838615,56,"c",838672,61,"a=t.getNavigationBar();var o",838761,186,"a.setBackButton(o);a.add(",831568,77,839049,81,"a",839131,148,"t",839280,173,"r){console.error(r",839471,3330,"b){var i=this;var c=\"mainPage.initTabItem\";mainController.dh(c",841740,32,"e=b.getAt(0);console.error(e);var a=i.down(\"#tabHome\");a.add({xtype:\"homepage\",cls:\"p-",842903,80,"ticketList",842989,336,843366,35,"tru",843405,39,"true);h.down(\"#labelFilenameTicket\").setHidden(true);",843451,6523,874621,196,872236,135,850051,63,"class=\"my-notification\"><div class=\"hdr-notification\">{ftitle}</div><img src=\"{[this.getImg(values.img_url)]}\" class=\"img-inline-background\"/",850316,36,850357,96,"&nbsp;",850457,199,"&nbsp;",850660,117,"Img:function(a){var b=system.getUrlPicturePath()+\"attachments/NOTIFICATIONS\";if(a==\"Invalid File\"){return\"attachments/default.jpg\"}else{return b+a}}",850773,1473,"cls:\"p-notification-page\",layout:\"fit\"",852304,178,852484,7979,"Screen Mode",700858,44,698672,280,860797,4180,"selectfield\",label:this.txtHeader",864044,47,"\"Normal Mode\",value:0},{text:\"Modern Mode\",value:1},{text:\"Guard Mode\",value:2}]",864989,65,"required:false",865071,3520,"tru",868595,1422,"itemId:\"labelFilenameTicket",870015,11382,"Utils",691702,35,"},getErrors:function(c){var b=this;var a=\"<div style='color:red;'>\";Ext.each(c,function(e,d){a+=e.field+\" - \"+e.reason+\"<br>\"});a+=\"</div>\";return a",756930,379,"app.eh(d",757325,155,"isRecordEmpty:function(a){var b=Object.keys(a).length;if(b!=0",474310,34,"setMasked:function(a,b){if(!Ext.isEmpty(a)){a",636394,37,"b})}},offMasked:function(a){if(!Ext.isEmpty(a)){a.setMasked(false)}},showMyMasked:function(c){var d=\"utils.showMyMasked\";var b=this;try{if(app.currentView){app.",757752,48,"c});b.execDelay(function(){b.hideMyMasked()},5000)}}catch(a){app.errHandler(a,d)}},hideMyMasked:function(){var c=\"utils.hideMyMasked\";var b=this;app.dh(\"Start\",\"...\",c);try{if(app.currentView){app.",758131,39,"app.eh(a,c)}},doDelay:function(a,b){this.execDelay(b,a)},execDelay:function(c,a){if(!a){a=5000}var b",836800,35,"c,this);b.delay(a)},dialogMesg:function(c,b,a){Ext.Msg.confirm(c,b,a)}",845851,89,"GLatLng:function(b,a){return new google.maps.LatLng(b,a)},tickerShow:function(){var a=function(){me._tickerTask",836800,46,"a.call(this)},me);me._tickerTask.delay(10000)};a()},findRecord:function(b,c,d){var a=b.findRecord(c,d);if(a){return a}else{return null}},getCardType:function(){var a=[{value:\"master\",iconCls:'<i class=\"fa fa-cc-mastercard fa-2x\" aria-hidden=\"true\"></i>',text:\"Master Card\"},{value:\"visa\",iconCls:'<i class=\"fa fa-cc-visa fa-2x\" aria-hidden=\"true\"></i>',text:\"Visa Card\"},{value:\"amex\",iconCls:'<i class=\"fa fa-cc-amex fa-2x\" aria-hidden=\"true\"></i>',text:\"American Express Card\"},{value:\"diners\",iconCls:'<i class=\"fa fa-cc-diners-club fa-2x\" aria-hidden=\"true\"></i>',text:\"Diners Club\"},{value:\"paypal\",iconCls:'<i class=\"fa fa-cc-paypal fa-2x\" aria-hidden=\"true\"></i>',text:\"PayPal\"},{value:\"maybank2u\",iconCls:'<i class=\"fa fa-credit-card-alt fa-2x\" aria-hidden=\"true\"></i>',text:\"Maybank2u\"}];return a},getCardIcon:function(b){var a=this.getCardType();for(var d=0;d<a.length;d++){var c=a[d];if(c.value===b){return c.iconCls}}return\"\"},execAjax:function(b,d,a,c){Ext.Ajax.request({url:utils.getDefaultServer()+b,method:\"post\",params:d,success:a,failure:c}",693214,33,"Utils",818048,34,881392,2009,691664,32,"VisitorPage\",Ext.Panel,{txtLogout:\"Exit\",txtMenu:\"Menu\",txtBack:\"Back\",txtMotto:\"doc Mobile\",txtCopyRight:\"\ufffff\ufffff 2016\",txtCompany:\"Domain Oracle Sdn Bhd\",txtSupportPhone:\"+60129498134\",txtSupportEmail:\"rudzuan@gmail.com\",txtTitle:\"<b>Visitor Check Page</b>: Use below button to execute related operation. These operations are restricted to visitor operations only. \",config:{itemId:\"visitorPage\",layout:\"fit\",cls:\"p-visitorpage\",isLogin:false}",876446,33,".getItemId()+\".initialize\";var a=this;app.debugHandler(\"Start\",\"...\",e);var d",873871,51,"center\",align:\"center\"},cls:\"r-main-title\",html:a.txtTitle",867503,33,328933,33,",align:\"center\"},cls:\"r-main-subtitle\",html:\"Click on the items above to execute the related operation...\"",877181,41,"mainPanel\",cls:\"r-main-panel\"",328932,34,",align:\"stretch\"}});this.setItems([{xtype:\"panel\",cls:\"r-container\"",328932,34,",align:\"center\"},items:[d,b,c]}])",629100,32,"apply(this,arguments)}},0,[\"visitorP",852527,32,"panel\",\"visitorP",855423,48,"visitorPage:true},[\"widget.visitorPage\"],0,[mhelpdesk.view,\"Visitor",828480,43,"ticket.SosAction",880192,34,"sosACtion\",cls:\"p-sos-action\",",873896,47,"},txtFilter:\"Find",876445,35,712618,32,"b=mhelpdesk.view.Locale",878333,55,"pack:\"start\",align",862160,48,"width:\"100%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",831331,37,"text:\"CLOSE\"",854752,45,"close\",e,f,h,g",831563,215,879681,41,"var c",718829,33,"mainContent\",cls:\"r-main",718872,42,"stretch\"},items:[{xtype:\"label\",cls:\"r-title\",html:\"SOS CALL INFORMATION\"},{xtype:\"fieldset\",title:\"Occupant Details\",instructions:\"Information on the occupant\"",858811,33,"\"Trigger Date\",readOnly:true,itemId:\"fcreated\",name:\"fcreated\"},{xtype:\"textfield\",label:\"Status\",readOnly:true,itemId:\"status\",name:\"status\"},{xtype:\"textfield\",label:\"Name\"",867976,40,"},{xtype:\"textfield\",label:\"SOS Message\",readOnly",869328,37,"}]},{xtype:\"fieldset\",title:\"Immediate Action\",instructions:\"Push the button below for immediate action",593226,35,873926,33,"button\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-phone\",text:\"CALL\"",854752,45,"call",854496,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-users\",text:\"INFORM MANAGEMENT\"",854752,45,"management",854496,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-upload\",text:\"VISIT UNIT\"",854752,45,"visit\",e,f,h,g)}}}]}]});this.setItems([a,c",848342,61,"},0,[\"sosAC",851932,33,"panel\",\"formpanel\",\"sosACtion",284704,45,"formpanel:true,sosACtion:true},[\"widget.sosACtion\"],0,[mhelpdesk.view.ticket,\"SosAction",818048,34,"view.ticket.Sos",824112,41,"sosList\",cls:\"r-list\",store:\"localSosTicket",828591,282,874829,238,824704,32,845072,35,872489,443,846242,119,"sos",846368,145,825503,49,"sos",875472,51,"sos",825615,62,"sosList:true},[\"widget.sosList\"],0,[mhelpdesk.view.ticket,\"Sos",846800,43,"visitor.Register",880192,34,"registerVisitor\",cls:\"p-visitor-register\",",873896,47,"},txtFilter:\"Find",876445,35,712618,32,"b=mhelpdesk.view.Locale",878333,55,"pack:\"start\",align",862160,48,"width:\"50%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",831331,37,"text:\"SAVE\"",854752,45,878714,34,"width:\"50%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",831331,37,"text:\"CANCEL\"",854752,45,"close\",e,f,h,g",831563,215,879681,41,"var c",718829,33,"mainContent\",cls:\"r-main",718872,42,"stretch\"},items:[{xtype:\"label\",cls:\"r-title\",html:\"VISITOR REGISTRATION\"},{xtype:\"fieldset\",title:\"Visitor Details\",instructions:\"Information on the visitor\"",858811,33,"\"Name\",itemId:\"name\",name:\"name\"},{xtype:\"textfield\",label:\"Contact No\",itemId:\"phone\",name:\"phone\"},{xtype:\"textfield\",label:\"Vehicle No\",itemId:\"vehicle\",name:\"vehicle\"}]},{xtype:\"fieldset\",title:\"ID Picture Taken\",instructions:\"Push the button below for immediate action",593226,35,873926,33,"button\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-camera\",text:\"SNAP CAMERA\"",854752,45,"camera",854496,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-phone\",text:\"TO CALL OWNER\"",854752,45,"call",854496,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-users\",text:\"INFORM MANAGEMENT\"",854752,45,"management\",e,f,h,g)}}},{xtype:\"textfield",831967,47,"flex:2",832028,76,"]},{itemId:\"loadedImage\",xtype:\"img\",width:\"80%\",height:\"200px\",style:\"margin-top:5px; margin-bottom:5px; background-position: left;\"}]});this.setItems([a,c",848342,61,"},0,[\"registerVisitor",313263,37,"formpanel\",\"registerVisito",651712,35,"panel:true,formpanel:true,registerVisitor:true},[\"widget.registerVisitor\"],0,[mhelpdesk.view.visitor,\"Register",883394,378,"view.ticket\":\"app/view/ticket\",\"mhelpdesk.view.client\":\"app/view/client\",\"mhelpdesk.view.visitor\":\"app/view/visitor",883759,231,"locale=null;var system=null;var utils=null;var isLogin=false;var user",883980,150,"Utils",884127,165,"osPage\",\"ticket.SosList\",\"ticket.SosAction\",\"VisitorPage",884288,59,"Intercom\",\"CallList\",\"OccupantPage\",\"client.OccupantList\",\"visitor.Register",884344,102,",\"GuardPage",884445,111,"Intercom",884553,91,",\"ClientUnit",884643,436,"Intercom",885071,57,",\"LocalAllClient\",\"RemoteCommon\",\"RemoteAllClient\",\"LocalSosTicket\",\"RemoteSosTicket",885127,476,"app=mhelpdesk.app;",885603,52,788627,58,"utils=mhelpdesk.view.Utils",885672,2942,888615,414]