["function _91941414d5c4691c664d0792f343942f53ec4402",50,2314,"client){mhelpdesk.view.client",2341,118,"if(!mhelpdesk.view.ticket){mhelpdesk.view.ticket={}}if(!mhelpdesk.view.visitor){mhelpdesk.view.visitor",2455,689601,"Guard Setup",692063,32,"GuardSetup\",name:\"mnuGuardSetup\",ui:\"action\",hidden:false,menu:\"mnuGuardSetup",692153,2616,"osPage\",Ext.Panel,{config:{itemId:\"sospage\",cls:\"p-sos-page\",",888967,47,"},txtFilter:\"Find",871023,35,855664,32,"b=mhelpdesk.view.Locale;var e",888942,39,885514,50,"electfield\",itemId:\"selection\",usePicker:true,cls:\"r-tool-item\",width:100,options:[{text:\"Status\",value:\"status\"},{text:\"Name\",value:\"name\"},{text:\"Unit No\",value:\"serial_no\"},{text:\"Date\",value:\"created\"}],listeners:{change:function(h,i,f,g){if(i==\"status\"){d.down(\"#filterStatus\").setHidden(false);d.down(\"#filterText\").setHidden(true)}else{d.down(\"#filterStatus\").setHidden(true);d.down(\"#filterText\").setHidden(false)}}}},{xtype:\"selectfield\",cls:\"r-tool-field\",itemId:\"filterStatus\",usePicker:true,flex:1,hidden:false,options:[{text:\"OPEN\",value:\"open\"},{text:\"CLOSED\",value:\"closed\"}]},{xtype:\"textfield\",cls:\"r-tool-field\",flex:1,hidden:true,itemId:\"filterText\"",869099,59,"pack:\"start\",align",895691,32,"e,{xtype:\"button\",width:100,itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",877296,40,"text:d.txtFilter",873535,45,"filter\",d,f,h,g)}}},{xtype:\"button\",width:100,itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",845396,37,"text:\"CLOSE\"",873535,46,"lose\",d,f,h,g",845628,215,"f,h,g){d.fireEvent(\"info",849660,32,"a,{xtype:\"sosLis",842220,112,"SOS Call ",849783,35,";Ext",880253,50,"},0,[\"sospage",637312,37,"sos",842446,38,"panel:true,sospage:true},[\"widget.sospage\"],0,[mhelpdesk.view,\"SosP",828847,37,694763,340,"s",695103,67,"s",695170,282,",ambulance:null,police",695447,279,"s",695726,2465,",Date:\"Tarikh",698190,3511,"Jenis Skrin",875516,324,702041,5586,",Date:\"Date",707626,3276,"Screen Mod",872752,40,710955,5813,"_session:null,_socket:null",716767,89,"guardPage:\"guardPage\",homepage:\"homepage\",sospage:\"sospage\",sosACtion:\"sosACtion\",visitorPage:\"visitorPage\",registerVisitor:\"registerVisitor",716874,96,"occupantList:\"occupant",716964,124,"sosList:\"sosList\",ticketList:\"ticketList\",notification:\"notification\",event:\"even",717109,2159,"j",719269,35,"j,b);var i",719314,39,"j){app.dh(\"Menu\",\"Click\",j,b);switch(j",719391,203,"h.call(true)",719639,358,"j",719998,2420,"sospage:{close:function(c,a,d,b){this.popPage()},filter:function(g,i,d,f){var h=this;var c=g.getItemId()+\".filter\";app.dh(\"Start\",\"...\",c);var l=g.down(\"#selection\").getValue();if(l==\"status\"){var b=g.down(\"#filterStatus\").getValue();h.getTicketBySOS(true,\"ticket.status='\"+b+\"'\",function(m,e,n){})}else{if(l==\"name\"){var a=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"ticket.name LIKE '\"+a+\"%'\",function(m,e,n){})}else{if(l==\"serial_no\"){var k=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"asset.seral_no='\"+k+\"'\",function(m,e,n){})}else{if(l==\"created\"){var j=g.down(\"#filterText\").getValue();h.getTicketBySOS(true,\"ticket.created LIKE '\"+j+\"%'\",function(m,e,n){})}else{}}}}}},sosACtion:{close:function(c,a,d,b){this.popPage()}},visitorPage:{tapBack:function(c,a,d,b){this.popPage()},tapRegister:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapRegister\";app.dh(\"Start\",\"...\",h);var a=Ext.create(\"mhelpdesk.view.visitor.Register\");d.pushPage(a)}},registerVisitor:{close:function(c,a,d,b){this.popPage()},camera:function(f,a,g,c){var d=this;var i=f.getItemId()+\".camera\";app.dh(\"Start\",\"...\",i);var b",844647,47,"\");d.getPhoto(a,b,h)}},guardPage:{activate:function(e,d,a,b){var c=this;var f=d.getItemId()+\".show\";app.dh(\"Start\",\"...\",f);c.getTicketBySOS(false,\"ticket.status='open'\",function(h,g,j){console.error(h.length);if(h.length>0){var i=d.down(\"#sosMain\");i.setBadgeText(h.length)}})},tapCallOwner:function(d,a,f,b){var c=this;var g=d.getItemId()+\".tapCallOwner\";app.dh(\"Start\",\"...\",g);var d=Ext.create(\"mhelpdesk.view.OccupantPage\");c.load_all_client(false,function(h,e,i){console.error(h);c.pushPage(d)})},tapAmbulance:function(g,i,c,d){var h=this;var a=g.getItemId()+\".tapAmbulance\";app.dh(\"Start\",system.getAmbulance(),a);",719547,51,"j=true;window.plugins.CallNumber.callNumber(f,b,system.getAmbulance(),j)",719639,106,"function f(e){console.log(\"Success:\"+e)}function b(e){console.log(\"Error:\"+e)}},tapPolice:function(g,i,c,d){var h=this;var a=g.getItemId()+\".tapPolice\";app.dh(\"Start\",system.getPolice(),a);",719547,51,"j=true;window.plugins.CallNumber.callNumber(f,b,system.getPolice(),j)",719639,106,"function f(e){console.log(\"Success:\"+e)}function b(e){console.log(\"Error:\"+e)}},tapSos:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapSos\";app.dh(\"Start\",\"..\",h);var a=Ext.getStore(\"localSosTicketStore\");d.getTicketBySOS(true,\"ticket.status='open'\",function(i,e,k){console.error(i.length);if(i.length>0){var j=Ext.create(\"mhelpdesk.view.SosPage\");d.pushPage(j)}})},tapVisitor:function(m,o,j,k){var n=this;var f=m.getItemId()+\".tapVisitor\";app.dh(\"Start\",\"..\",f);var g=Ext.create(\"mhelpdesk.view.VisitorPage\");var m=g;var a=m.down(\"#mainPanel\");var l=[];l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-pencil-square-o fa-2x\",text:\"NEW REGISTER\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapRegister\",m,i,r,q)}}});l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-users fa-2x\",badgeText:\"0\",text:\"VISITOR LIST\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-credit-card fa-2x\",text:\"VISITOR PASS\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button",893864,32,"uck fa-2x\",badgeText:\"0\",text:\"DELIVERY VEHICLE\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapAmbulance\",m,i,r,q)}}});l.push({xtype:\"button",845396,35," fa-2x\",text:\"BACK TO MAIN\",listeners:{tap:function(i,r,q){m.fireEvent(\"tapBack\",m,i,r,q)}}});var h=1;var b;var c=[];for(var d=0;d<l.length;d++){if(h==1){b",888942,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});c.push(b)}b.add(l[d]);h++;if(h>3){h=1}}for(var d=0;d<c.length;d++){a.add(c[d])}n.pushPage(g)},tapLogin:function(f,b,g,c){var d=this;var h=f.getItemId()+\".tapVisitor\";app.dh(\"Start\",\"..\",h);if(system.getIsLogin()){d.doLogout()}else{var a=",765127,35,"d.pushPage(a)",722414,22441,"occupantList:{onRefresh:function(c,b){var a=this;var d=c.getItemId()+\".onItemDisclosure\";app.dh(\"Start\",\"...\",d);a.load_all_client(true)},itemtap:function(m,f,g,d,h,i){var l=this;var b=\"occupationList-itemtap\";app.dh(\"Start\",\"...\",b);try{var a=d.get(\"client_phone\");if(!a){d.get(\"client_mobile\")}if(a){if(l._deviceOS==\"Android\"||l._deviceOS==\"iOS\"){var n=true;window.plugins.CallNumber.callNumber(k,c,system.getAmbulance(),n)}else{l",719646,99,"}else{l",719646,37,"No contact number availaible!\",Ext.MessageBox.ERROR,true)}function k(e){console.log(\"Success:\"+e)}function c(e){console.log(\"Error:\"+e)}}catch(j){l.errHandler(j,b)}},onItemDisclosure:function(c,a){var b=this;var d=c.getItemId()+\".onItemDisclosure\"}},sosList:{itemtap:function(k,c,d,b,f,g){var j=this;var a=k.getItemId()+\".itemtap\";app.dh(\"Start\",\"...\",a);try{",757408,33,"ticket.SosAction\");j.getTicketById(b.data.ticket_id,true,function(l,e,m){console.error(l.length);j.pushPage(i);if(l.length>0){i.setRecord(l[0])}})}catch(h){j.errHandler(h,a)}",744852,8487,"notification:{",753043,42,"notification",753095,35,"\"..\"",753148,83,"load_notification(",753268,71,"event:{",753043,42,"even",753094,36,"\"..\"",753148,83,"load_event(",753268,6396,"createMainButton:function(){var e=this.getItemId()+\".createMainButton\";var j=this;app.dh(\"Start\",\"...\",e);var g=Ext.create(\"doc.view.GuardPage\");var a=g.down(\"#mainPanel\");var h=[];h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-motorcycle fa-2x\",text:\"Dispatch Service\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapDispatch\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-pencil-square-o fa-2x\",text:\"Subscribe to Service\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapSubscribe\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-laptop fa-2x\",text:\"Service Listing\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapListing\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-check fa-2x\",text:\"Check Order\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapCheckOrder\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-thumbs-o-up fa-2x\",text:\"Comments\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapComment\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-tasks fa-2x\",text:\"Order List\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapOrder\",g,i,l,k)}}});h.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-gear fa-2x\",text:\"Setting\",listeners:{tap:function(i,l,k){g.fireEvent(\"tapSetting\",g,i,l,k)}}});var f=1;var b;var c=[];for(var d=0;d<h.length;d++){if(f==1){b",888942,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});c.push(b)}b.add(h[d]);f++;if(f>3){f=1}}for(var d=0;d<c.length;d++){a.add(c[d])}return g",759662,1922,"ISTRATOR",761584,2479,";d._countNav=d._countNav+1;if(d._backItem){if(d._countNav>0){app.dh(\"push\",\"enable backItem\",f);d._backItem.setDisabled(false)}}",764063,127,"if(b){a.pop(b)}else{a.pop()}",764412,42,"0){console.error(d._countNav);if(d._backItem){app.dh(\"pop\",\"disable backItem\",e);d._backItem.setDisabled(true)}}",764285,33,764319,610,"GuardSetup\":break;",764921,6872,";e._socket=io.connect(\"110.74.184.36\");e._socket.on(\"messageReceived\",onVideoMessageReceived);e._socket.on(\"onMessage\",function(h){e._session.receiveMessage(h)})}catch(d){}}}catch(d){}},call:function(a){var e=this.getItemId()+\".call\";var d=this;var b={isInitiator:a,turn:{host:\"110.74.184.36\",username:\"201\",password:\"spa201fsw\"},streams:{audio:true,video:true}};try{d._session=new cordova.plugins.phonertc.Session(b);d._session.on(\"answer\",function(){app.dh(\"answer\",\"Other client answered!\",e)});d._session.on(\"disconnect\",function(){app.dh(\"disconnect\",\"Other client disconnected!!\",e)});d._session.on(\"sendMessage\",function(f){app.dh(\"sendMessage\",f,e);d._socket.emit(\"sendMessage\",{type:\"phonertc_handshake\",data:JSON.stringify(f)})});d._session.call()}catch(c){app.eh(c,e)}},onVideoMessageReceived:function(b){var a=this;switch(b.type){case\"call\":break;case\"answer\":a.call(true);break;case\"phonertc_handshake\":a._session.receiveMessage(JSON.parse(b.data));break}},subscribeOneSignal:function(b,e,a){var c=this;var d=this.getItemId()+\".subscribeOneSignal\";c.OneSignal=OneSignal||[];c.OneSignal",777466,281,"wtProperty",777762,61,"wtProperty",777838,231,"wtProperty",777947,32,778116,75,"wtProperty",778206,262,"OneSignal.push(function(){c.OneSignal",778485,34,"f){if(f){c.OneSignal.getUserId(function(g){c.dh(\"Subscribe\",g,d);c.OneSignal.push([\"sendTags\",{user:b,role:e",778592,42,";c",751742,46,"\"Login\",\"User \"+b+\" just login ...\")",771816,837,"+system.getCompanyName()",772653,951,"+system.getCompanyName()",773604,3409,"all_client(fals",777003,223,"subscribeOneSignal(system.getUser(),\"CLIENT\",system.getCompanyName()",777242,2823,";if(system.getScreenMode()==2){b=c.getGuardPage()}else{b=c.getMainpage()}",780082,5797,"f,a){var e=this;var c=this.getItemId()+\".filterTicketById\";try{var g=null;var i=false;var b=new RegExp(a,\"i\");console.log(b);var h",785966,34,"h.clearFilter();h.filterBy(function(j){i=b.test(j.get(f));if(i){g=j}});h.clearFilter();return g}catch(d){e.errHandler(d,c",786126,1330,"app.dh(\"Start\",\"...\",d",787490,356,"BySOS:function(g,b",786967,33,"SOS\";app.dh(\"Start\",b,d);try{var a=\"ticket.topic_id=2\";if(b){a+=\" AND \"+b}app.dh(\"Filter\",a,d)",791712,32,787103,83,"Sos",786742,39,"SosTicketStore\");h._localSos",787247,147,787846,1946,"company_id=\"+system.getCompanyId()+\" AND (sdatetime < DATE(NOW()) AND edatetime > DATE(NOW())) AND mesg_type='PUBLIC' OR mesg_type='CLIENT'\"",791712,32,"notification\",filter:a",790351,58,789933,344,"(sdatetime < DATE(NOW()) AND edatetime > DATE(NOW()))\"",791712,32,"event\",filter:a",790351,2633,"load_all_client",790635,39,"lient",790679,57,"client.client_isactive=1 AND client.company_id=\"+system.getCompanyId()",792650,62,".client_firstname",790798,45,"AllClien",786747,34,"AllClientStore\");h._localAllClient",792366,157,792984,5133,"j=i.screen_mode;console.error(\"ScreenMode:\"+j);",798139,2284,"7",800424,157,"system.setUrlPicturePath(\"https://www.wtpropertycheck.com/\");d",758733,51,800633,330,"h){if(h){d.initData();var g=utils.findRecord(d._localConfigStore,\"company_id\",system.getCompanyId());if(g){system.setPolice(g.get(\"default_police\"));system.setAmbulance(g.get(\"default_ambulance\"))}",800985,110,"i=system.getTheme();var j=d.currentCSS(i);d.changeCSS(\"resources/css/\"+i,j",801169,1358,"l,k,m){d.setupData(function(o,n,q",802560,78,"findRecord:function(b,c,d){var a=b.findRecord(c,d);if(a){return a}else{return null",802635,1298,"load_event(true);b.load_notification(true);b.load_all_client",803924,9060,"lientUni",818320,75,812532,326,",\"asset_name\",\"asset_address\",\"asset_unit\"",822448,33,"clientUni",812896,47,"Uni",826432,35,"model.Config",817262,80,813069,971,"default_ambulance\",type:\"string\"},{name:\"default_police\",type:\"string",814030,4469,"\"img_url\"",816750,38,820843,38,818574,2166,"img_url",820737,5490,"AllClien",831583,41,"Al",826272,43,"Unit",830368,63,"client_firstname\"",832736,34,"LocalAllCli",827776,48,"Clien",831583,41,"Cli",833248,33,"Client",830368,63,826378,1079,"\"Date\",c.get(\"locale\"))+\": \"+b.getText(",827512,35,",c.get(\"locale",827545,165,832736,34,827769,3271,"os",831578,46,"Sos",831624,73,"return locale.getText(\"Status\")+\":\"+locale.getText(a.get(\"status\"))",831216,32,"tick",830942,45,"Sos",886832,40,831028,1009,831791,33,"RemoteAllClien",831583,36,"remoteAl",826272,43,"Unit",832943,89,"li",833376,115,"All",832400,82,"lien",831583,36,"remoteCli",833248,33,832188,225,831791,33,"RemoteCommon",831584,35,"remoteComm",829245,32,"Config",832943,166,",listeners:{exception:function(c,b,a){app.eh(a.getError(),\"store.RemoteCommon\")}",832735,43,"mmon",835375,75,826478,41,832522,3663,"Sos",831578,41,"remoteSos",836232,248,"Sos",836480,82,831579,40,836226,3701,859196,196,889952,135,865198,73,"event\"><div class=\"hdr-event",840114,41,"title}</div><img src=\"{[this.getImg(values.img_url)]",840201,40,865384,34,840279,405,"',{compiled:true,getImg:function(a){var b=system.getUrlPicturePath()+\"attachments/EVENTS\";if(a==\"Invalid File\"){return\"attachments/default.jpg\"}else{return b+a}}",865838,252,"Status\";break;case\"my\":b=\"Status\";break;case\"ch\":b=\"",841019,5796,"GuardPage\",Ext.Panel,{txtLogout:\"Exit\",txtMenu:\"Menu\",txtBack:\"Back\",txtMotto:\"doc Mobile\",txtCopyRight:\"\ufffff\ufffff 2016\",txtCompany:\"Domain Oracle Sdn Bhd\",txtSupportPhone:\"+60129498134\",txtSupportEmail:\"rudzuan@gmail.com\",txtTitle:\"<b>Guard Page</b>: Use below button to execute related operation. These operations are restricted to Guard operations only. \",config:{itemId:\"guardPage\",layout:\"fit\",cls:\"p-mainpage\",isLogin:false}",891517,33,".getItemId()+\".initialize\";var a=this;app.debugHandler(\"Start\",\"...\",e);var d",888942,51,"center\",align:\"center\"},cls:\"r-main-title\",html:a.txtTitle});var c",888942,51,"center\",align:\"center\"},cls:\"r-main-subtitle\",html:\"Click on the items above to execute the related operation...\"",892252,41,"mainPanel\",cls:\"r-main-panel\"",328920,34,",align:\"stretch\"}});this.setItems([{xtype:\"panel\",cls:\"r-container\"",328920,34,",align:\"center\"},items:[d,b,c]}]);Ext",880253,50,"},0,[\"guardPage",637312,37,"guardP",842447,37,"panel:true,guardPage:true},[\"widget.guardPage\"],0,[mhelpdesk.view,\"GuardP",828847,37,846810,2268,"client.Occupa",838176,43,"occupantList\",store:\"localAllClient",836971,500,"r-contact_lis",838766,43,"firstname} {client_lastname}</span><br><div style=\"color:blue;\"><span style=\"font-size: .65em; font-weight: normal;\">&nbsp;<i>{asset_name}-{asset_unit}</i>",788638,36,"65em; font-weight: normal;\">&nbsp;<i>{asset_address}</i></span></div",890176,358,"occupant",861760,51,"occupa",839679,64,"occupantList:true},[\"widget.occupantList\"],0,[mhelpdesk.view.client,\"Occupa",839805,45,"OccupantPage",849086,69,"Occupant",849163,616,"occupant",849783,221,"Occupa",842543,45,849078,4027,"t=this;var k=\"Main-initialize\";try{var l=mhelpdesk.view.Locale;var c=mhelpdesk.view.System;console.error(\"SCREENMODE:\"+c.getScreenMode());var s;if(c.getScreenMode()==2){s=Ext.create(\"mhelpdesk.view.GuardPage\");var e=s;var g=e.down(\"#mainPanel\");var f=[];var d=c.getIsLogin();var m=\"LOGIN\";var h=\"fa-sign-in fa-2x\";if(d){m=\"LOGOUT\";h=\"fa-sign-out fa-2x\"}f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-phone fa-2x\",text:\"TO CALL OWNER\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapCallOwner\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-ambulance fa-2x\",text:\"AMBULANCE\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapAmbulance\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-taxi fa-2x\",text:\"POLICE\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapPolice\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-users fa-2x\",text:\"TO CALL MANAGEMENT\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapManagement\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-university fa-2x\",text:\"LOCAL COUNCIL\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapCouncil\",e,i,v,u)}}});f.push({xtype:\"button\",itemId:\"sosMain\",iconAlign:\"top\",iconCls:\"fa-bell-o fa-2x\",text:\"S-O-S LIST\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapSos\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-camera fa-2x\",text:\"VISITOR CHECK\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapVisitor\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:h,text:m,listeners:{tap:function(i,v,u){e.fireEvent(\"tapLogin\",e,i,v,u)}}});f.push({xtype:\"button\",iconAlign:\"top\",iconCls:\"fa-gear fa-2x\",text:\"SETTING\",listeners:{tap:function(i,v,u){e.fireEvent(\"tapSetting\",e,i,v,u)}}});var b=1;var j;var q=[];for(var n=0;n<f.length;n++){if(b==1){j",888942,39,"hbox\",pack:\"start\",align:\"stretch\"},defaults:{cls:\"r-main-button\"}});q.push(j)}j.add(f[n]);b++;if(b>3){b=1}}for(var n=0;n<q.length;n++){g.add(q[n])}}else{s=Ext.create(\"mhelpdesk.view.MainPage\")}",853196,161,"s",853375,153,"t",853529,41,"l",855754,102,"'+c",853676,56,855899,53,"'}]);var a=t.getNavigationBar();var o",853822,186,"a.setBackButton(o);a",854028,163,"a",854192,148,"t",854341,173,"r){console.error(r",854532,10589,859196,196,889952,135,865198,142,"[this.getImg(values.img_url)]",840201,32,865381,461,"Img:function(a){var b=system.getUrlPicturePath()+\"attachments/NOTIFICATIONS\";if(a==\"Invalid File\"){return\"attachments/default.jpg\"}else{return b+a}}",865838,9668,"Screen Mode",875516,4504,"selectfield\",label:this.txtHeader",879087,47,"\"Normal Mode\",value:0},{text:\"Modern Mode\",value:1},{text:\"Guard Mode\",value:2}]",880032,65,"required:false},",896048,55,886127,42,880213,16255,"Utils",694774,35,"},getErrors:function(c){var b=this;var a=\"<div style='color:red;'>\";Ext.each(c,function(e,d){a+=e.field+\" - \"+e.reason+\"<br>\"});a+=\"</div>\";return a",765778,379,"app.eh(d",766173,155,"isRecordEmpty:function(a){var b=Object.keys(a).length;if(b!=0",474461,34,"setMasked:function(a,b){if(!Ext.isEmpty(a)){a",398617,37,"b})}},offMasked:function(a){if(!Ext.isEmpty(a)){a.setMasked(false)}},showMyMasked:function(c){var d=\"utils.showMyMasked\";var b=this;try{if(app.currentView){app.",766600,48,"c});b.execDelay(function(){b.hideMyMasked()},5000)}}catch(a){app.errHandler(a,d)}},hideMyMasked:function(){var c=\"utils.hideMyMasked\";var b=this;app.dh(\"Start\",\"...\",c);try{if(app.currentView){app.",766979,39,"app.eh(a,c)}},doDelay:function(a,b){this.execDelay(b,a)},execDelay:function(c,a){if(!a){a=5000}var b",855502,35,"c,this);b.delay(a)},dialogMesg:function(c,b,a){Ext.Msg.confirm(c,b,a)}",860998,89,"GLatLng:function(b,a){return new google.maps.LatLng(b,a)},tickerShow:function(){var a=function(){me._tickerTask",855502,46,"a.call(this)},me);me._tickerTask.delay(10000)};a()},findRecord:function(b,c,d){var a=b.findRecord(c,d);if(a){return a}else{return null}},getCardType:function(){var a=[{value:\"master\",iconCls:'<i class=\"fa fa-cc-mastercard fa-2x\" aria-hidden=\"true\"></i>',text:\"Master Card\"},{value:\"visa\",iconCls:'<i class=\"fa fa-cc-visa fa-2x\" aria-hidden=\"true\"></i>',text:\"Visa Card\"},{value:\"amex\",iconCls:'<i class=\"fa fa-cc-amex fa-2x\" aria-hidden=\"true\"></i>',text:\"American Express Card\"},{value:\"diners\",iconCls:'<i class=\"fa fa-cc-diners-club fa-2x\" aria-hidden=\"true\"></i>',text:\"Diners Club\"},{value:\"paypal\",iconCls:'<i class=\"fa fa-cc-paypal fa-2x\" aria-hidden=\"true\"></i>',text:\"PayPal\"},{value:\"maybank2u\",iconCls:'<i class=\"fa fa-credit-card-alt fa-2x\" aria-hidden=\"true\"></i>',text:\"Maybank2u\"}];return a},getCardIcon:function(b){var a=this.getCardType();for(var d=0;d<a.length;d++){var c=a[d];if(c.value===b){return c.iconCls}}return\"\"},execAjax:function(b,d,a,c){Ext.Ajax.request({url:utils.getDefaultServer()+b,method:\"post\",params:d,success:a,failure:c}",696303,33,"Util",874991,40,"View",880672,32,896504,1968,694736,32,"VisitorPage\",Ext.Panel,{txtLogout:\"Exit\",txtMenu:\"Menu\",txtBack:\"Back\",txtMotto:\"doc Mobile\",txtCopyRight:\"\ufffff\ufffff 2016\",txtCompany:\"Domain Oracle Sdn Bhd\",txtSupportPhone:\"+60129498134\",txtSupportEmail:\"rudzuan@gmail.com\",txtTitle:\"<b>Visitor Check Page</b>: Use below button to execute related operation. These operations are restricted to visitor operations only. \",config:{itemId:\"visitorPage\",layout:\"fit\",cls:\"p-visitorpage\",isLogin:false}",891517,33,".getItemId()+\".initialize\";var a=this;app.debugHandler(\"Start\",\"...\",e);var d",888942,51,"center\",align:\"center\"},cls:\"r-main-title\",html:a.txtTitle});var c",888942,51,"center\",align:\"center\"},cls:\"r-main-subtitle\",html:\"Click on the items above to execute the related operation...\"",892252,41,"mainPanel\",cls:\"r-main-panel\"",328920,34,",align:\"stretch\"}});this.setItems([{xtype:\"panel\",cls:\"r-container\"",328920,34,",align:\"center\"},items:[d,b,c]}]);Ext",880253,50,"},0,[\"visitorPage",637312,37,"visitorP",842447,37,"panel:true,visitorPage:true},[\"widget.visitorPage\"],0,[mhelpdesk.view,\"VisitorP",828847,37,"view.ticket.SosAction",872399,35,"osACtion\",cls:\"p-sos-action\",",888967,47,"},txtFilter:\"Find",891516,35,715707,32,"b=mhelpdesk.view.Locale",869103,55,"pack:\"start\",align",895691,48,"width:\"100%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",845396,37,"text:\"CLOSE\"",873535,32,"e.fireEvent(\"close",894528,265,"var c",868272,33,"mainContent\",cls:\"r-main",724102,42,"stretch\"},items:[{xtype:\"label\",cls:\"r-title\",html:\"SOS CALL INFORMATION\"},{xtype:\"fieldset\",title:\"Occupant Details\",instructions:\"Information on the occupant\"",873854,33,"\"Trigger Date\",readOnly:true,itemId:\"fcreated\",name:\"fcreated\"},{xtype:\"textfield\",label:\"Status\",readOnly:true,itemId:\"status\",name:\"status\"},{xtype:\"textfield\",label:\"Name\"",883019,40,"},{xtype:\"textfield\",label:\"SOS Message\",readOnly",892558,37,"}]},{xtype:\"fieldset\",title:\"Immediate Action\",instructions:\"Push the button below for immediate action",593377,35,888997,33,"button\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-phone\",text:\"CALL\"",873535,32,"e.fireEvent(\"call",893789,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-users\",text:\"INFORM MANAGEMENT\"",873535,32,"e.fireEvent(\"management",893789,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-upload\",text:\"VISIT UNIT\"",873535,32,"e.fireEvent(\"visit\",e,f,h,g)}}}]}]});this.setItems([a,c",864557,61,"},0,[\"sosACtion",637312,47,",\"sosAC",867056,38,"panel:true,formpanel:true,sosACtion:true},[\"widget.sosACtion\"],0,[mhelpdesk.view.ticket,\"SosActio",856127,40,"ticket.Sos",842591,41,"sosList\",cls:\"r-list\",store:\"localSosTicket",842656,282,889900,238,843167,32,887661,35,887560,443,861389,119,"sos",839424,194,"sos",861760,51,"sosLis",898336,35,"dataview:true,list:true,sosList:true},[\"widget.sosList\"],0,[mhelpdesk.view.ticket,\"Sos",839807,43,"visitor.Register",863951,34,"registerVisitor\",cls:\"p-visitor-register\",",888967,47,"},txtFilter:\"Find",891516,35,715707,32,"b=mhelpdesk.view.Locale",869103,55,"pack:\"start\",align",895691,48,"width:\"50%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",845396,37,"text:\"SAVE\"",873535,32,893772,47,"width:\"50%\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit",845396,37,"text:\"CANCEL\"",873535,32,"e.fireEvent(\"close",894528,265,"var c",868272,33,"mainContent\",cls:\"r-main",724102,42,"stretch\"},items:[{xtype:\"label\",cls:\"r-title\",html:\"VISITOR REGISTRATION\"},{xtype:\"fieldset\",title:\"Visitor Details\",instructions:\"Information on the visitor\"",873854,33,"\"Name\",itemId:\"name\",name:\"name\"},{xtype:\"textfield\",label:\"Contact No\",itemId:\"phone\",name:\"phone\"},{xtype:\"textfield\",label:\"Vehicle No\",itemId:\"vehicle\",name:\"vehicle\"}]},{xtype:\"fieldset\",title:\"ID Picture Taken\",instructions:\"Push the button below for immediate action",593377,35,888997,33,"button\",itemId:\"btnSubmit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-camera\",text:\"SNAP CAMERA\"",873535,32,"e.fireEvent(\"camera",893789,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-phone\",text:\"TO CALL OWNER\"",873535,32,"e.fireEvent(\"call",893789,41,"Submit\",cls:\"r-button\",name:\"btnSubmit\",iconAlign:\"top\",iconCls:\"fa-users\",text:\"INFORM MANAGEMENT\"",873535,32,"e.fireEvent(\"management\",e,f,h,g)}}},{xtype:\"textfield",846032,47,"flex:2",846093,76,"]},{itemId:\"loadedImage\",xtype:\"img\",width:\"80%\",height:\"200px\",style:\"margin-top:5px; margin-bottom:5px; background-position: left;\"}]});this.setItems([a,c",864557,61,"},0,[\"registerVisitor",637312,47,",\"registerVisitor",401216,34,"panel:true,formpanel:true,registerVisitor:true},[\"widget.registerVisitor\"],0,[mhelpdesk.view.visitor,\"Register",898465,420,"view.client\":\"app/view/client\",\"mhelpdesk.view.visitor\":\"app/view/visitor",898872,231,"locale=null;var system=null;var utils=null;var isLogin=false;var user",899093,150,"Utils",899240,165,"osPage\",\"ticket.SosList\",\"ticket.SosAction\",\"VisitorPage",899401,81,"OccupantPage\",\"client.OccupantList\",\"visitor.Register",899479,102,",\"GuardPage",899580,210,",\"ClientUnit",899789,501,",\"LocalAllClient\",\"RemoteCommon\",\"RemoteAllClient\",\"LocalSosTicket\",\"RemoteSosTicket",900289,476,"app=mhelpdesk.app;",900765,52,800488,58,"utils=mhelpdesk.view.Utils",900834,3356]